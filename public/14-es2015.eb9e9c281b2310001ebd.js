(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"5YYF":function(t,e,n){"use strict";n.r(e),n.d(e,"AdapterDetailModule",function(){return Je});var i=n("ofXK"),o=n("tyNb"),a=n("mrSG"),c=n("fXoL"),s=n("t3rE"),r=n("AytR"),l=n("tk/3");const b=r.a.baseUrl;let d=(()=>{class t{constructor(t){this.http=t}getPageInfo(t){return this.http.get(`${b}/page/${t}`)}getParagraph(t){return this.http.get(`${b}/page/paragraph/${t}`)}getImage(t){}getVideo(t){return this.http.get(`${b}/page/video/${t}`)}getAudio(t){}}return t.\u0275fac=function(e){return new(e||t)(c.Sb(l.a))},t.\u0275prov=c.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var p=n("dPl2"),u=n("7zfz");let g=(()=>{class t{constructor(){this.event$=new c.n}emitEvent(t){this.event$.emit(t)}getEvent(){return this.event$}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=c.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var h=n("sYmb"),f=n("jhN1");let m=(()=>{class t{constructor(t){this.domSanitizer=t}transform(t){return this.domSanitizer.bypassSecurityTrustResourceUrl(t)}}return t.\u0275fac=function(e){return new(e||t)(c.Ib(f.b))},t.\u0275pipe=c.Hb({name:"urlsanitizer",type:t,pure:!0}),t})(),O=(()=>{class t{constructor(t){this.eventService=t}ngOnDestroy(){this.subscription.unsubscribe()}ngOnInit(){this.loadEvent()}loadEvent(){this.subscription=this.eventService.getEvent().subscribe(t=>{if("adapted"===this.page.type){console.log("event refresh",this.page);var e=document.getElementById("web-view");e.src="",e.src=this.page.code}})}}return t.\u0275fac=function(e){return new(e||t)(c.Ib(g))},t.\u0275cmp=c.Cb({type:t,selectors:[["app-iframe"]],inputs:{page:"page"},decls:3,vars:6,consts:[["id","web-view","target","_parent","frameborder","0","allowfullscreen","",3,"title","src"]],template:function(t,e){1&t&&(c.Jb(0,"iframe",0),c.ac(1,"translate"),c.ac(2,"urlsanitizer")),2&t&&c.fc("title",c.bc(1,2,"object.titleIframe"))("src",c.bc(2,4,e.page.code),c.vc)},pipes:[h.c,m],styles:["iframe[_ngcontent-%COMP%]{width:100%;height:100%}"]}),t})();var v=n("arFO"),C=n("3Pt+"),_=n("jIHw"),x=n("Q4Mo"),P=n("xlun");const N=["webView"];function y(t,e){if(1&t){const t=c.Pb();c.Mb(0),c.Ob(1,"button",9),c.Vb("click",function(){return c.tc(t),c.Zb().closeFullscreen()}),c.Nb(),c.Lb()}}function M(t,e){if(1&t){const t=c.Pb();c.Ob(0,"button",10),c.Vb("click",function(){return c.tc(t),c.Zb().openFullscreen()}),c.ac(1,"translate"),c.Nb()}2&t&&c.fc("pTooltip",c.bc(1,1,"object.btnFullScreen"))}let w=(()=>{class t{constructor(t){this.learningObjectService=t,this.eventPage=new c.n,this.fullScreen=!1}ngOnInit(){this.learningObjectService.enviarMensajeObservable.subscribe(t=>{this.mensajeID=t});let t=this.pages.filter(t=>t.preview_path.includes("index.html"));this.selectedPage={name:t[0].title,code:t[0].preview_path,id:t[0].id,type:t[0].type},this.learningObjectService.enviarMensaje(this.selectedPage.id),this.pagesSelect=this.pages.map(t=>({name:t.title,code:t.preview_path,id:t.id,type:t.type}))}openFullscreen(){const t=this.webView.nativeElement;this.fullScreen=!0,t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}closeFullscreen(){document.exitFullscreen&&document.exitFullscreen(),this.fullScreen=!1}onChange(t){this.eventPage.emit(t.value),this.mensajeID=t.value.id,this.learningObjectService.enviarMensaje(this.mensajeID)}}return t.\u0275fac=function(e){return new(e||t)(c.Ib(s.a))},t.\u0275cmp=c.Cb({type:t,selectors:[["app-webview"]],viewQuery:function(t,e){if(1&t&&c.Kc(N,!0),2&t){let t;c.qc(t=c.Wb())&&(e.webView=t.first)}},inputs:{pages:"pages"},outputs:{eventPage:"eventPage"},decls:13,vars:6,consts:[[1,"web-view","animate__animated","animate__fadeIn"],["webView",""],[1,"iframe"],[3,"page"],[1,"controls"],[1,"dropdown"],["optionLabel","name",3,"options","ngModel","showClear","onChange","ngModelChange"],[4,"ngIf","ngIfElse"],["elseTemplate",""],["aria-label","Boton de salir de la pantalla completa","pButton","","pRipple","","type","button","icon","pi pi-window-minimize",1,"p-button-rounded","p-button-outlined",3,"click"],["aria-label","Boton de pantalla completa","pButton","","pRipple","","type","button","icon","pi pi-window-maximize",1,"p-button-rounded","p-button-outlined",3,"pTooltip","click"]],template:function(t,e){if(1&t&&(c.Ob(0,"div",0,1),c.Ob(2,"div",2),c.Jb(3,"app-iframe",3),c.Nb(),c.Ob(4,"div",4),c.Ob(5,"div",5),c.Ob(6,"h5"),c.Ec(7,"P\xe1gina: "),c.Nb(),c.Ob(8,"p-dropdown",6),c.Vb("onChange",function(t){return e.onChange(t)})("ngModelChange",function(t){return e.selectedPage=t}),c.Nb(),c.Nb(),c.Ob(9,"div"),c.Cc(10,y,2,0,"ng-container",7),c.Cc(11,M,2,3,"ng-template",null,8,c.Dc),c.Nb(),c.Nb(),c.Nb()),2&t){const t=c.rc(12);c.xb(3),c.fc("page",e.selectedPage),c.xb(5),c.fc("options",e.pagesSelect)("ngModel",e.selectedPage)("showClear",!0),c.xb(2),c.fc("ngIf",e.fullScreen)("ngIfElse",t)}},directives:[O,v.a,C.j,C.l,i.j,_.b,x.a,P.a],pipes:[h.c],styles:[".web-view[_ngcontent-%COMP%]   .iframe[_ngcontent-%COMP%]{width:100%;height:68vh}.web-view[_ngcontent-%COMP%]:-webkit-full-screen{background-color:#fff}.web-view[_ngcontent-%COMP%]:fullscreen{background-color:#fff}.web-view[_ngcontent-%COMP%]:-webkit-full-screen   .iframe[_ngcontent-%COMP%]{width:100%;height:94.5vh}.web-view[_ngcontent-%COMP%]:fullscreen   .iframe[_ngcontent-%COMP%]{width:100%;height:94.5vh}.web-view[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{width:100%;justify-content:space-between}.dropdown[_ngcontent-%COMP%], .web-view[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{display:flex;position:relative;z-index:1}.dropdown[_ngcontent-%COMP%]{align-items:center}.dropdown[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0 5px 0 0}"]}),t})();var I=n("/RsI");function E(t,e){if(1&t&&(c.Ob(0,"p"),c.Ob(1,"span"),c.Ec(2,"Titulo: "),c.Nb(),c.Ec(3),c.Nb()),2&t){const t=c.Zb();c.xb(3),c.Gc(" ",t.oa_detail.title,"")}}function k(t,e){if(1&t&&(c.Ob(0,"p"),c.Ob(1,"span"),c.Ec(2,"Autor: "),c.Nb(),c.Ec(3),c.Nb()),2&t){const t=c.Zb();c.xb(3),c.Gc(" ",t.oa_detail.author,"")}}function S(t,e){if(1&t&&(c.Ob(0,"p"),c.Ob(1,"span"),c.Ec(2,"Licencia: "),c.Nb(),c.Ec(3),c.Nb()),2&t){const t=c.Zb();c.xb(3),c.Gc(" ",t.oa_detail.license,"")}}function j(t,e){if(1&t&&(c.Ob(0,"p"),c.Ob(1,"span"),c.Ec(2,"Versi\xf3n: "),c.Nb(),c.Ec(3),c.Nb()),2&t){const t=c.Zb();c.xb(3),c.Gc(" ",t.oa_detail.version,"")}}function A(t,e){if(1&t){const t=c.Pb();c.Ob(0,"button",10),c.Vb("click",function(){return c.tc(t),c.Zb().displayResponsive=!1}),c.Nb(),c.Ob(1,"button",11),c.Vb("click",function(){return c.tc(t),c.Zb().descargar()}),c.Nb()}}const F=function(){return{width:"50vw"}};let R=(()=>{class t{constructor(t){this.learningObjectService=t,this.eventAdaptabilit=new c.n,this.checked1=!1,this.displayResponsive=!1}ngOnInit(){this.image=this.getValueCheck("image"),this.video=this.getValueCheck("video"),this.audio=this.getValueCheck("audio"),this.button=this.getValueCheck("button"),this.paragraph=this.getValueCheck("paragraph")}getValueCheck(t){return this.config_adaptability.areas.includes(t)}get method(){return"handbook"===this.config_adaptability.method?"Manual":"automatic"===this.config_adaptability.method?"Automatica":"mixed"===this.config_adaptability.method?"Mixta":void 0}onChangeButton(){}emittEvent(){this.eventAdaptabilit.emit({image:this.image,video:this.video,audio:this.audio,paragraph:this.paragraph})}showResponsiveDialog(){this.displayResponsive=!0}descargar(){return Object(a.a)(this,void 0,void 0,function*(){yield this.learningObjectService.getDownloadFileZip(this.oa_id).subscribe(t=>{console.log(t),t&&(this.downloadFile(t.path),this.displayResponsive=!1)})})}downloadFile(t){console.log(t),window.open(t)}onChangeImage(){this.emittEvent()}onChangeVideo(){this.emittEvent()}onChangeAudio(){this.emittEvent()}onChangeParagraph(){this.emittEvent()}}return t.\u0275fac=function(e){return new(e||t)(c.Ib(s.a))},t.\u0275cmp=c.Cb({type:t,selectors:[["app-oa-info"]],inputs:{oa_detail:"oa_detail",file_detail:"file_detail",config_adaptability:"config_adaptability",oa_id:"oa_id"},outputs:{eventAdaptabilit:"eventAdaptabilit"},decls:87,vars:21,consts:[[1,"content"],[4,"ngIf"],[1,"content-switch"],[1,"button"],["icon","pi pi-cloud-download","label","Descargar OA adaptado",3,"click"],["header","Informaci\xf3n de descarga",3,"visible","draggable","resizable","visibleChange"],[1,"text_description"],[2,"text-align","justify","color","black"],[2,"font-weight","bold","line-height","1.5"],["pTemplate","footer"],["pButton","","label","No","icon","pi pi-times",1,"p-button-danger",3,"click"],["pButton","","label","Descargar","styleClass","p-button-text","icon","pi pi-check",3,"click"]],template:function(t,e){1&t&&(c.Ob(0,"div",0),c.Ob(1,"h6"),c.Ec(2,"Informaci\xf3n del OA"),c.Nb(),c.Cc(3,E,4,1,"p",1),c.Cc(4,k,4,1,"p",1),c.Cc(5,S,4,1,"p",1),c.Cc(6,j,4,1,"p",1),c.Ob(7,"h6"),c.Ec(8,"Informaci\xf3n del Archivo"),c.Nb(),c.Ob(9,"p"),c.Ob(10,"span"),c.Ec(11,"Paginas: "),c.Nb(),c.Ec(12),c.Nb(),c.Ob(13,"p"),c.Ob(14,"span"),c.Ec(15,"Imagenes: "),c.Nb(),c.Ec(16),c.Nb(),c.Ob(17,"p"),c.Ob(18,"span"),c.Ec(19,"Parrafos: "),c.Nb(),c.Ec(20),c.Nb(),c.Ob(21,"p"),c.Ob(22,"span"),c.Ec(23,"Videos: "),c.Nb(),c.Ec(24),c.Nb(),c.Ob(25,"p"),c.Ob(26,"span"),c.Ec(27,"Audios: "),c.Nb(),c.Ec(28),c.Nb(),c.Ob(29,"h6"),c.Ec(30,"Configuraci\xf3n de Adaptabilidad"),c.Nb(),c.Ob(31,"p"),c.Ob(32,"span"),c.Ec(33,"Tipo de adaptaci\xf3n: "),c.Nb(),c.Ec(34),c.Nb(),c.Ob(35,"div",2),c.Ob(36,"p"),c.Ob(37,"span"),c.Ec(38,"Bot\xf3n de adaptabilidad"),c.Nb(),c.Nb(),c.Nb(),c.Ob(39,"div",2),c.Ob(40,"p"),c.Ob(41,"span"),c.Ec(42,"Imagenes"),c.Nb(),c.Nb(),c.Nb(),c.Ob(43,"div",2),c.Ob(44,"p"),c.Ob(45,"span"),c.Ec(46,"Parrafos"),c.Nb(),c.Nb(),c.Nb(),c.Ob(47,"div",2),c.Ob(48,"p"),c.Ob(49,"span"),c.Ec(50,"Videos"),c.Nb(),c.Nb(),c.Nb(),c.Ob(51,"div",2),c.Ob(52,"p"),c.Ob(53,"span"),c.Ec(54,"Audios"),c.Nb(),c.Nb(),c.Nb(),c.Ob(55,"div",3),c.Ob(56,"p-button",4),c.Vb("click",function(){return e.showResponsiveDialog()}),c.Nb(),c.Ob(57,"p-dialog",5),c.Vb("visibleChange",function(t){return e.displayResponsive=t}),c.Ob(58,"div",6),c.Ob(59,"h6",7),c.Ec(60,"A continuaci\xf3n se muestra un resumen de los elementos que el sistema detecto para adaptar su objeto de aprendizaje: "),c.Nb(),c.Ob(61,"p"),c.Ob(62,"span",8),c.Ec(63,"P\xe1rrafos totales en el Objeto de Aprendizaje:"),c.Nb(),c.Jb(64,"br"),c.Ec(65),c.Nb(),c.Ob(66,"p"),c.Ob(67,"span",8),c.Ec(68,"Im\xe1genes totales en el Objeto de Aprendizaje:"),c.Nb(),c.Jb(69,"br"),c.Ec(70),c.Nb(),c.Ob(71,"p"),c.Ob(72,"span",8),c.Ec(73,"Audios totales en el Objeto de Aprendizaje:"),c.Nb(),c.Jb(74,"br"),c.Ec(75),c.Nb(),c.Ob(76,"p"),c.Ob(77,"span",8),c.Ec(78,"Videos totales en el Objeto de Aprendizaje:"),c.Nb(),c.Jb(79,"br"),c.Ec(80),c.Nb(),c.Ob(81,"p"),c.Ob(82,"span",8),c.Ec(83,"P\xe1ginas totales del Objeto de Aprendizaje:"),c.Nb(),c.Jb(84,"br"),c.Ec(85),c.Nb(),c.Nb(),c.Cc(86,A,2,0,"ng-template",9),c.Nb(),c.Nb(),c.Nb()),2&t&&(c.xb(3),c.fc("ngIf",e.oa_detail.title),c.xb(1),c.fc("ngIf",e.oa_detail.author),c.xb(1),c.fc("ngIf",e.oa_detail.license),c.xb(1),c.fc("ngIf",e.oa_detail.version),c.xb(6),c.Gc(" ",e.file_detail.pages,""),c.xb(4),c.Gc(" ",e.file_detail.images,""),c.xb(4),c.Gc(" ",e.file_detail.paragraphs,""),c.xb(4),c.Gc(" ",e.file_detail.videos,""),c.xb(4),c.Gc(" ",e.file_detail.audios,""),c.xb(6),c.Gc(" ",e.method,""),c.xb(23),c.Ac(c.hc(20,F)),c.fc("visible",e.displayResponsive)("draggable",!1)("resizable",!1),c.xb(8),c.Gc(" Se encontraron ",e.file_detail.paragraphs," p\xe1rrafos. "),c.xb(5),c.Gc(" Se encontraron ",e.file_detail.images," im\xe1genes. "),c.xb(5),c.Gc(" Se encontraron ",e.file_detail.audios," audios. "),c.xb(5),c.Gc(" Se encontraron ",e.file_detail.videos," videos. "),c.xb(5),c.Gc(" Se encontraron ",e.file_detail.pages," P\xe1ginas. "))},directives:[i.j,_.a,I.a,u.j,_.b],styles:[".content[_ngcontent-%COMP%]{padding:10px 0}.content[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-weight:700;color:var(--primary-color);margin:5px 0}.content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}.content[_ngcontent-%COMP%]   .content-switch[_ngcontent-%COMP%]{display:flex;align-items:center}.content[_ngcontent-%COMP%]   .content-switch[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0}.content[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{width:100%;text-align:center;margin-top:10px}.content[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-transform:uppercase}.text_description[_ngcontent-%COMP%]{text-align:justify}.text_description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:5px}"]}),t})();var V=n("jeV5"),Z=n("ZKTo");const T=r.a.baseUrl;let J=(()=>{class t{constructor(t){this.http=t}getTagAdaptedByIdParagraph(t){return this.http.get(`${T}/adapter/paragraph/${t}`)}createTagAdapted(t){let e=new FormData;return t.file&&e.append("file",t.file),e.append("text",t.text),e.append("html_text",t.html_text),e.append("tag_page_learning_object",t.tag_page_learning_object),this.http.post(T+"/adapter/paragraph/",e,{reportProgress:!1,observe:"events",responseType:"json"})}updateTagAdapted(t,e){let n=new FormData;return t.file&&n.append("file",t.file),n.append("text",t.text),n.append("html_text",t.html_text),n.append("tag_page_learning_object",t.tag_page_learning_object),this.http.put(`${T}/adapter/paragraph/${e}`,n,{reportProgress:!1,observe:"events",responseType:"json"})}}return t.\u0275fac=function(e){return new(e||t)(c.Sb(l.a))},t.\u0275prov=c.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var G=n("QIUk"),z=n("dts7"),D=n("vKg+"),L=n("mUB+"),B=n("kvL/");const $=["recordPlayer"],q=["audioDownload"],U=function(){return{width:"50px",height:"50px"}};function H(t,e){1&t&&(c.Mb(0),c.Ob(1,"div",6),c.Jb(2,"p-progressSpinner",7),c.Nb(),c.Lb()),2&t&&(c.xb(2),c.Ac(c.hc(2,U)))}function W(t,e){1&t&&(c.Jb(0,"i",18),c.Ob(1,"span"),c.Ec(2,"Lectura f\xe1cil"),c.Nb())}function K(t,e){1&t&&(c.Jb(0,"i",19),c.Ob(1,"span"),c.Ec(2,"Audio descriptivo"),c.Nb())}function Q(t,e){if(1&t&&(c.Ob(0,"div",20),c.Ob(1,"p"),c.Ec(2,"Audio actual"),c.Nb(),c.Jb(3,"audio",21),c.Nb()),2&t){const t=c.Zb(3);c.xb(3),c.fc("src",t.paragraphAdapted.path_preview,c.wc)}}function Y(t,e){if(1&t){const t=c.Pb();c.Ob(0,"ngx-dropzone-preview",28),c.Vb("removed",function(){return c.tc(t),c.Zb(5).onRemove()}),c.Ob(1,"ngx-dropzone-label"),c.Ec(2),c.Nb(),c.Nb()}if(2&t){const t=c.Zb(5);c.fc("removable",!0)("file",t.file),c.xb(2),c.Fc(t.file.name)}}function X(t,e){if(1&t){const t=c.Pb();c.Ob(0,"ngx-dropzone",25),c.Vb("change",function(e){return c.tc(t),c.Zb(4).onSelect(e)}),c.Ob(1,"ngx-dropzone-label"),c.Ob(2,"h6"),c.Ec(3,"Arrastre o seleccione un archivo."),c.Nb(),c.Jb(4,"p-button",26),c.Nb(),c.Cc(5,Y,3,3,"ngx-dropzone-preview",27),c.Nb()}if(2&t){const t=c.Zb(4);c.xb(5),c.fc("ngIf",t.file)}}function tt(t,e){if(1&t){const t=c.Pb();c.Ob(0,"div",29),c.Ob(1,"button",30),c.Vb("click",function(){return c.tc(t),c.Zb(4).onCancelSelection()}),c.Nb(),c.Nb()}}function et(t,e){if(1&t&&(c.Ob(0,"div",22),c.Cc(1,X,6,1,"ngx-dropzone",23),c.Cc(2,tt,2,0,"div",24),c.Nb()),2&t){const t=c.Zb(3);c.xb(1),c.fc("ngIf",!t.loader),c.xb(1),c.fc("ngIf",t.file)}}function nt(t,e){if(1&t){const t=c.Pb();c.Ob(0,"div",31),c.Ob(1,"span"),c.Ec(2,"O"),c.Nb(),c.Ob(3,"button",32),c.Vb("click",function(){return c.tc(t),c.Zb(3).onRecorAudio()}),c.Nb(),c.Nb()}}function it(t,e){if(1&t){const t=c.Pb();c.Ob(0,"button",39),c.Vb("click",function(){return c.tc(t),c.Zb(5).stopRecord()}),c.Nb()}}function ot(t,e){if(1&t&&(c.Ob(0,"div",40),c.Jb(1,"audio",41,42),c.ac(3,"blobsanitizer"),c.Jb(4,"a",43,44),c.Nb()),2&t){const t=c.Zb(5);c.xb(1),c.fc("src",c.bc(3,1,t.audioURL),c.wc)}}function at(t,e){if(1&t){const t=c.Pb();c.Mb(0),c.Ob(1,"span"),c.Ec(2),c.Nb(),c.Ob(3,"div",35),c.Ob(4,"button",36),c.Vb("click",function(){return c.tc(t),c.Zb(4).record()}),c.Nb(),c.Cc(5,it,1,0,"button",37),c.Nb(),c.Cc(6,ot,6,3,"div",38),c.Lb()}if(2&t){const t=c.Zb(4);c.xb(2),c.Ic("",t.hourRecord,":",t.minRecord,":",t.secRecord,""),c.xb(2),c.fc("icon",t.rec?"pi pi-pause":"pi pi-play"),c.xb(1),c.fc("ngIf",t.recording),c.xb(1),c.fc("ngIf",t.audioURL)}}function ct(t,e){if(1&t&&(c.Ob(0,"p"),c.Ec(1),c.Nb()),2&t){const t=c.Zb(4);c.xb(1),c.Fc(t.permisText)}}function st(t,e){if(1&t){const t=c.Pb();c.Ob(0,"div",33),c.Cc(1,at,7,6,"ng-container",4),c.Cc(2,ct,2,1,"ng-template",null,34,c.Dc),c.Ob(4,"div",29),c.Ob(5,"button",30),c.Vb("click",function(){return c.tc(t),c.Zb(3).onCancelSelection()}),c.Nb(),c.Nb(),c.Nb()}if(2&t){const t=c.rc(3),e=c.Zb(3);c.xb(1),c.fc("ngIf",e.permis)("ngIfElse",t)}}function rt(t,e){if(1&t){const t=c.Pb();c.Ob(0,"p-tabView",8),c.Ob(1,"p-tabPanel",9),c.Cc(2,W,3,0,"ng-template",10),c.Ob(3,"angular-editor",11),c.Vb("ngModelChange",function(e){return c.tc(t),c.Zb(2).htmlContent=e}),c.Nb(),c.Nb(),c.Ob(4,"p-tabPanel",12),c.Cc(5,K,3,0,"ng-template",10),c.Ob(6,"div",13),c.Cc(7,Q,4,1,"div",14),c.Cc(8,et,3,2,"div",15),c.Cc(9,nt,4,0,"div",16),c.Cc(10,st,6,2,"div",17),c.Nb(),c.Nb(),c.Nb()}if(2&t){const t=c.Zb(2);c.xb(3),c.fc("placeholder","Lectura f\xe1cil...")("ngModel",t.htmlContent)("config",t.editorConfig),c.xb(4),c.fc("ngIf",null==t.paragraphAdapted?null:t.paragraphAdapted.path_preview),c.xb(1),c.fc("ngIf",t.selectFile),c.xb(1),c.fc("ngIf",!t.file&&!t.recordAudio),c.xb(1),c.fc("ngIf",t.recordAudio)}}function lt(t,e){if(1&t){const t=c.Pb();c.Ob(0,"div",2),c.Ob(1,"p-messages",3),c.Vb("valueChange",function(e){return c.tc(t),c.Zb().messges=e}),c.Nb(),c.Cc(2,H,3,3,"ng-container",4),c.Cc(3,rt,11,7,"ng-template",null,5,c.Dc),c.Nb()}if(2&t){const t=c.rc(4),e=c.Zb();c.xb(1),c.fc("value",e.messges)("enableService",!1),c.xb(1),c.fc("ngIf",e.loaderAdapted)("ngIfElse",t)}}function bt(t,e){if(1&t){const t=c.Pb();c.Mb(0),c.Ob(1,"p-button",47),c.Vb("click",function(){return c.tc(t),c.Zb(2).onSave()}),c.Nb(),c.Ob(2,"button",48),c.Vb("click",function(){return c.tc(t),c.Zb(2).edit=!1}),c.Nb(),c.Lb()}if(2&t){const t=c.Zb(2);c.xb(1),c.fc("disabled",!t.htmlContent&&!t.fileRecord&&!t.file||t.updateParagraph)("label",t.updateParagraph?"Guardando...":"Guardar")("loading",t.updateParagraph)}}function dt(t,e){if(1&t){const t=c.Pb();c.Ob(0,"p-button",49),c.Vb("click",function(){return c.tc(t),c.Zb(2).editParagraph()}),c.Nb()}if(2&t){const t=c.Zb(2);c.fc("loading",t.updateParagraph)}}function pt(t,e){if(1&t&&(c.Ob(0,"div",45),c.Cc(1,bt,3,3,"ng-container",4),c.Cc(2,dt,1,1,"ng-template",null,46,c.Dc),c.Nb()),2&t){const t=c.rc(3),e=c.Zb();c.xb(1),c.fc("ngIf",e.edit)("ngIfElse",t)}}const ut=function(){return{"margin-bottom":"2em"}};let gt=(()=>{class t{constructor(t,e,n,i){this.audioRecorderService=t,this.paragraphService=e,this.messageService=n,this.eventService=i,this.edit=!1,this.selectFile=!0,this.recordAudio=!1,this.hourRecord=0,this.minRecord=0,this.secRecord=0,this.rec=!1,this.recording=!1,this.permis=!0,this.loaderAdapted=!1,this.updateParagraph=!1,this.editorConfig={editable:!0,spellcheck:!0,height:"150px",minHeight:"150px",maxHeight:"auto",width:"auto",minWidth:"0",translate:"yes",enableToolbar:!1,showToolbar:!0,placeholder:"Enter text here...",defaultParagraphSeparator:"",defaultFontName:"",defaultFontSize:"",fonts:[{class:"arial",name:"Arial"},{class:"times-new-roman",name:"Times New Roman"},{class:"calibri",name:"Calibri"},{class:"comic-sans-ms",name:"Comic Sans MS"}],toolbarHiddenButtons:[["bold","italic","underline","strikeThrough","subscript","superscript","justifyLeft","justifyCenter","justifyRight","justifyFull","indent","outdent","insertUnorderedList","insertOrderedList","heading","fontName"],["fontSize","textColor","backgroundColor","customClasses","link","unlink","insertImage","insertVideo","insertHorizontalRule","removeFormat","toggleEditorMode"]]},this.audioRecorderService.recorderError.subscribe(t=>{})}ngOnInit(){}onSave(){return Object(a.a)(this,void 0,void 0,function*(){if(this.messges=[],this.updateParagraph=!0,this.htmlContent||this.file||this.fileRecord){let t={text:this.htmlContent||"",html_text:this.htmlContent?`<p>${this.htmlContent}</p>`:"",tag_page_learning_object:this.paragraph.id,file:this.file||this.fileRecord};this.paragraphAdapted?yield this.paragraphService.updateTagAdapted(t,this.paragraphAdapted.id).subscribe(t=>{this.paragraphAdapted=t.body,this.updateParagraph=!1,this.onCancelSelection(),this.fileRecord=void 0,this.messges.length<=0&&(this.messges.push({severity:"success",detail:"Se ha editado el texto y el audio de ayuda al Objeto de Aprendizaje."}),this.eventService.emitEvent(!0))},t=>{console.log(t),this.messges.push({severity:"error",summary:"Error",detail:t})}):yield this.paragraphService.createTagAdapted(t).subscribe(t=>{this.paragraphAdapted=t.body,this.updateParagraph=!1,this.onCancelSelection(),this.fileRecord=void 0,this.messges.length<=0&&(this.messges.push({severity:"success",detail:"Se ha agregado el texto y el audio de ayuda al Objeto de Aprendizaje."}),this.eventService.emitEvent(!0))},t=>{this.messges.push({severity:"error",summary:"Error",detail:t}),console.log(t)})}})}onSelect(t){this.selectFile=!0,this.file=t.addedFiles[0]}onRemove(){this.file=void 0}onRecorAudio(){this.selectFile=!1,this.recordAudio=!0}onCancelSelection(){this.selectFile=!0,this.recordAudio=!1,this.recording=!1,this.onRemove()}record(){return Object(a.a)(this,void 0,void 0,function*(){this.rec=!this.rec,this.recording?this.rec?this.audioRecorderService.resume():this.audioRecorderService.pause():(this.recording=!0,this.audioURL=void 0,this.secRecord=0,this.minRecord=0,this.hourRecord=0,this.audioRecorderService.startRecording(),this.interval=setInterval(()=>{Z.d.PAUSED!=this.audioRecorderService.getRecorderState()&&(this.secRecord+=1,60===this.secRecord&&(this.secRecord=0,this.minRecord+=1),60===this.minRecord&&(this.minRecord=0,this.hourRecord+=1),24===this.hourRecord&&this.stopRecord())},1e3))})}stopRecord(){return Object(a.a)(this,void 0,void 0,function*(){clearInterval(this.interval),this.audioRecorderService.stopRecording(Z.c.WEBM_BLOB_URL).then(t=>Object(a.a)(this,void 0,void 0,function*(){this.rec=!1,this.recording=!1,this.audioURL=t,this.fileRecord=yield this.transforBlob(t)})).catch(t=>{console.log(t)})})}transforBlob(t){return Object(a.a)(this,void 0,void 0,function*(){try{const e=yield fetch(t),n=yield e.blob();return new File([n],"audio/mp3",{type:n.type})}catch(e){console.log(e)}})}editParagraph(){return Object(a.a)(this,void 0,void 0,function*(){this.edit=!this.edit,this.edit&&(this.loaderAdapted=!0,yield this.paragraphService.getTagAdaptedByIdParagraph(this.paragraph.id).subscribe(t=>{this.paragraphAdapted=t,this.loaderAdapted=!1,this.htmlContent=t.text},t=>{this.loaderAdapted=!1}))})}}return t.\u0275fac=function(e){return new(e||t)(c.Ib(Z.b),c.Ib(J),c.Ib(u.h),c.Ib(g))},t.\u0275cmp=c.Cb({type:t,selectors:[["app-paragraph"]],viewQuery:function(t,e){if(1&t&&(c.Kc($,!0),c.Kc(q,!0)),2&t){let t;c.qc(t=c.Wb())&&(e.recordPlayer=t.first),c.qc(t=c.Wb())&&(e.audioDownload=t.first)}},inputs:{paragraph:"paragraph"},decls:5,vars:5,consts:[["class","editor",4,"ngIf"],["pTemplate","footer"],[1,"editor"],[3,"value","enableService","valueChange"],[4,"ngIf","ngIfElse"],["loaderTemplate",""],[1,"spinn"],["styleClass","custom-spinner","strokeWidth","8","fill","#EEEEEE","animationDuration",".5s"],["styleClass","webview-container"],["header","Lectura f\xe1cil"],["pTemplate","header"],[3,"placeholder","ngModel","config","ngModelChange"],["header","Audio descriptivo"],[1,"audio-content"],["class","default-audio",4,"ngIf"],["class","select-audio",4,"ngIf"],["class","or-selectction",4,"ngIf"],["class","record-audio",4,"ngIf"],[1,"pi","pi-pencil"],[1,"pi","pi-volume-up"],[1,"default-audio"],["controls","","preload","none",1,"audio","audio-EACPBHCv",3,"src"],[1,"select-audio"],["class","dropzone","accept"," audio/*",3,"change",4,"ngIf"],["class","buttons",4,"ngIf"],["accept"," audio/*",1,"dropzone",3,"change"],["label","Seleccionar archivo","icon","pi pi-cloud-upload","styleClass","p-button"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"removable","file","removed",4,"ngIf"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"removable","file","removed"],[1,"buttons"],["pButton","","pRipple","","type","button","icon","pi pi-times","label","Cancelar",1,"p-button-danger",3,"click"],[1,"or-selectction"],["id","audio-recor","pButton","","pRipple","","type","button","label","Grabe un audio",1,"p-button-text",3,"click"],[1,"record-audio"],["parmisTemplate",""],[1,"buttons-record"],["pButton","","pRipple","","type","button",1,"p-button-rounded","p-button-danger","p-button-outlined",3,"icon","click"],["pButton","","pRipple","","type","button","icon","pi pi-check","class","p-button-rounded p-button-success p-button-outlined",3,"click",4,"ngIf"],["class","record-player",4,"ngIf"],["pButton","","pRipple","","type","button","icon","pi pi-check",1,"p-button-rounded","p-button-success","p-button-outlined",3,"click"],[1,"record-player"],["id","recordPlayer","controls","","preload","none",1,"audio",3,"src"],["recordPlayer",""],["id","audioDownload","pButton","","pRipple","","type","button","icon","pi pi-download",1,"p-button-rounded","p-button-primary","p-button-outlined"],["audioDownload",""],[1,"footer-buttons"],["buttonTemplate",""],["icon","pi pi-check",3,"disabled","label","loading","click"],["pButton","","pRipple","","type","button","icon","pi pi-times","label","Cerrar",1,"p-button-danger",3,"click"],["label","Editar","icon","pi pi-check",3,"loading","click"]],template:function(t,e){1&t&&(c.Ob(0,"p-card"),c.Ob(1,"p"),c.Ec(2),c.Nb(),c.Cc(3,lt,5,4,"div",0),c.Cc(4,pt,4,2,"ng-template",1),c.Nb()),2&t&&(c.Ac(c.hc(4,ut)),c.xb(2),c.Fc(e.paragraph.text),c.xb(1),c.fc("ngIf",e.edit))},directives:[G.a,i.j,u.j,z.a,D.a,p.b,p.a,L.a,C.j,C.l,B.a,B.d,_.a,B.c,_.b,x.a],styles:[".spinn[_ngcontent-%COMP%]{display:flex;justify-content:center}.audio-content[_ngcontent-%COMP%]{text-align:center}.audio-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:2px 0}.audio-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.2em;font-weight:700}.audio-content[_ngcontent-%COMP%]   .or-selectction[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:10px 0}.audio-content[_ngcontent-%COMP%]   .or-selectction[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:5px 0}.audio-content[_ngcontent-%COMP%]   .select-audio[_ngcontent-%COMP%]{margin:10px 0}.audio-content[_ngcontent-%COMP%]   .select-audio[_ngcontent-%COMP%]   .dropzone[_ngcontent-%COMP%]{height:100px}.audio-content[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px}.audio-content[_ngcontent-%COMP%]   .record-audio[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.audio-content[_ngcontent-%COMP%]   .record-audio[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:10px 0;display:block}.audio-content[_ngcontent-%COMP%]   .record-audio[_ngcontent-%COMP%]   .buttons-record[_ngcontent-%COMP%]{margin:10px 0}.audio-content[_ngcontent-%COMP%]   .record-audio[_ngcontent-%COMP%]   .buttons-record[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px}.audio-content[_ngcontent-%COMP%]   .record-audio[_ngcontent-%COMP%]   .record-player[_ngcontent-%COMP%]{display:flex;align-items:center}.audio-content[_ngcontent-%COMP%]   .record-audio[_ngcontent-%COMP%]   .record-player[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:5px}.audio-content[_ngcontent-%COMP%]   .default-audio[_ngcontent-%COMP%]{margin:10px 0}.footer-buttons[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]{margin-right:10px}"]}),t})();function ht(t,e){if(1&t&&(c.Ob(0,"div",2),c.Jb(1,"app-paragraph",3),c.Nb()),2&t){const t=e.$implicit;c.xb(1),c.fc("paragraph",t)}}let ft=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Cb({type:t,selectors:[["app-paragraph-content"]],inputs:{paragraphs:"paragraphs"},decls:2,vars:1,consts:[[1,"p-grid"],["class","p-col-12 p-md-6 p-lg-4",4,"ngFor","ngForOf"],[1,"p-col-12","p-md-6","p-lg-4"],[3,"paragraph"]],template:function(t,e){1&t&&(c.Ob(0,"div",0),c.Cc(1,ht,2,1,"div",1),c.Nb()),2&t&&(c.xb(1),c.fc("ngForOf",e.paragraphs))},directives:[i.i,gt],styles:[".p-grid[_ngcontent-%COMP%]{margin-top:10px}"]}),t})();var mt=n("7kUa");function Ot(t,e){if(1&t&&(c.Ob(0,"div",5),c.Ob(1,"p"),c.Ec(2),c.Nb(),c.Nb()),2&t){const t=c.Zb();c.xb(2),c.Gc(" ",t.item.text,"")}}function vt(t,e){if(1&t&&(c.Ob(0,"form",6),c.Jb(1,"input",7),c.Nb()),2&t){const t=c.Zb();c.fc("formGroup",t.angForm),c.xb(1),c.gc("formControlName",t.item.id)}}function Ct(t,e){if(1&t){const t=c.Pb();c.Mb(0,10),c.Ob(1,"div",11),c.Ob(2,"p-button",12),c.Vb("click",function(){c.tc(t);const e=c.Zb(2);return e.onSave(e.item.id)}),c.Nb(),c.Nb(),c.Ob(3,"div",13),c.Ob(4,"button",14),c.Vb("click",function(){c.tc(t);const e=c.Zb(2);return e.cancel(e.item.id)}),c.Nb(),c.Nb(),c.Lb()}}function _t(t,e){if(1&t){const t=c.Pb();c.Ob(0,"p-button",15),c.Vb("click",function(){c.tc(t);const e=c.Zb(2);return e.cliclEdit(e.item.id,e.item.text)}),c.Nb()}}function xt(t,e){if(1&t&&(c.Cc(0,Ct,5,0,"ng-container",8),c.Cc(1,_t,1,0,"ng-template",null,9,c.Dc)),2&t){const t=c.rc(2),e=c.Zb();c.fc("ngIf",e.edit)("ngIfElse",t)}}const Pt=function(){return{"margin-bottom":"2em"}};let Nt=(()=>{class t{constructor(t,e,n){this.learning_ObjectService=t,this.fb=e,this.messageServicee=n,this.edit=!1,this.createForm()}ngOnInit(){this.angForm.addControl(this.item.id,new C.c(this.item.text))}createForm(){this.angForm=this.fb.group({})}onSave(t){return Object(a.a)(this,void 0,void 0,function*(){let e=this.angForm.get(t.toString()).value;this.answers={text:e},yield this.learning_ObjectService.updateImage(this.answers,t).subscribe(n=>{n&&(this.showSuccess("Los datos se actualizaron con exito"),this.item.text=n.text,this.angForm.controls[t.toString()].setValue(e),this.edit=!1)},e=>{304==e.status&&(this.showError("Datos no modificados"),this.item.text=this.textAux,this.angForm.controls[t.toString()].setValue(this.textAux),this.edit=!1)})})}cliclEdit(t,e){this.edit=!0,this.textAux=e}cancel(t){this.edit=!1,this.angForm.controls[t.toString()].setValue(this.textAux)}showError(t){this.messageServicee.add({severity:"error",summary:"Error",detail:t})}showSuccess(t){this.messageServicee.add({severity:"success",summary:"Success",detail:t})}}return t.\u0275fac=function(e){return new(e||t)(c.Ib(s.a),c.Ib(C.b),c.Ib(u.h))},t.\u0275cmp=c.Cb({type:t,selectors:[["app-image"]],inputs:{item:"item"},decls:9,vars:6,consts:[[1,"image-content"],["alt","",3,"src"],["class","text-description",4,"ngIf"],["action","","id","formAdapte",3,"formGroup",4,"ngIf"],["pTemplate","footer","class","container-buttons"],[1,"text-description"],["action","","id","formAdapte",3,"formGroup"],["type","text","pInputText","",2,"width","100%",3,"formControlName"],["class","container-buttons",4,"ngIf","ngIfElse"],["buttonTemplate",""],[1,"container-buttons"],[1,"btn-sucessfull"],["label","Guardar","icon","pi pi-check",3,"click"],[1,"btn-cancel"],["pButton","","pRipple","","type","button","label","Cancelar","icon","pi pi-times",1,"p-button-danger",3,"click"],["label","Editar","icon","pi pi-check",3,"click"]],template:function(t,e){1&t&&(c.Ob(0,"p-card"),c.Ob(1,"div",0),c.Jb(2,"img",1),c.Nb(),c.Ob(3,"h6"),c.Ec(4,"Descripcion alt de la imagen :"),c.Nb(),c.Cc(5,Ot,3,1,"div",2),c.Cc(6,vt,2,2,"form",3),c.Jb(7,"p-messages"),c.Cc(8,xt,3,2,"ng-template",4),c.Nb()),2&t&&(c.Ac(c.hc(5,Pt)),c.xb(2),c.gc("src",e.item.link,c.wc),c.xb(3),c.fc("ngIf",!e.edit),c.xb(1),c.fc("ngIf",e.edit))},directives:[G.a,i.j,z.a,u.j,C.o,C.k,C.e,C.a,mt.a,C.j,C.d,_.a,_.b,x.a],styles:[".image-content[_ngcontent-%COMP%]{width:100%;height:25vh;display:flex;justify-content:center}.image-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}#formAdapte[_ngcontent-%COMP%], .audio-content[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{text-align:center}.audio-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:2px 0}.audio-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.2em;font-weight:700}.audio-content[_ngcontent-%COMP%]   .or-selectction[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:10px 0}.audio-content[_ngcontent-%COMP%]   .or-selectction[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:5px 0}.audio-content[_ngcontent-%COMP%]   .select-audio[_ngcontent-%COMP%]{margin:10px 0}.audio-content[_ngcontent-%COMP%]   .select-audio[_ngcontent-%COMP%]   .dropzone[_ngcontent-%COMP%]{height:100px}.audio-content[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px}.audio-content[_ngcontent-%COMP%]   .record-audio[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.audio-content[_ngcontent-%COMP%]   .record-audio[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:10px 0;display:block}.audio-content[_ngcontent-%COMP%]   .record-audio[_ngcontent-%COMP%]   .buttons-record[_ngcontent-%COMP%]{margin:10px 0}.audio-content[_ngcontent-%COMP%]   .record-audio[_ngcontent-%COMP%]   .buttons-record[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px}.audio-content[_ngcontent-%COMP%]   .record-audio[_ngcontent-%COMP%]   .record-player[_ngcontent-%COMP%]{display:flex;align-items:center}.audio-content[_ngcontent-%COMP%]   .record-audio[_ngcontent-%COMP%]   .record-player[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:5px}.btn-cancel[_ngcontent-%COMP%], .btn-sucessfull[_ngcontent-%COMP%]{margin:2px}[_nghost-%COMP%]     .p-card .p-card-footer{display:flex}.text-description[_ngcontent-%COMP%]{text-align:center}"]}),t})();function yt(t,e){if(1&t&&(c.Ob(0,"div",2),c.Jb(1,"app-image",3),c.Nb()),2&t){const t=e.$implicit;c.xb(1),c.fc("item",t)}}let Mt=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Cb({type:t,selectors:[["app-image-content"]],inputs:{imagesGroup:"imagesGroup"},decls:2,vars:1,consts:[[1,"p-grid"],["class","p-col-12 p-md-6 p-lg-4",4,"ngFor","ngForOf"],[1,"p-col-12","p-md-6","p-lg-4"],[3,"item"]],template:function(t,e){1&t&&(c.Ob(0,"div",0),c.Cc(1,yt,2,1,"div",1),c.Nb()),2&t&&(c.xb(1),c.fc("ngForOf",e.imagesGroup))},directives:[i.i,Nt],styles:[""]}),t})();var wt=n("zFJ7"),It=n("+DzE");function Et(t,e){if(1&t&&(c.Ob(0,"div",6),c.Jb(1,"audio",7),c.Nb()),2&t){const t=e.$implicit;c.xb(1),c.gc("src",t.path_src,c.wc)}}function kt(t,e){if(1&t&&(c.Ob(0,"div",8),c.Ob(1,"p"),c.Ec(2),c.Nb(),c.Nb()),2&t){const t=c.Zb();c.xb(2),c.Fc(t.item.text)}}function St(t,e){if(1&t){const t=c.Pb();c.Ob(0,"div",14),c.Ob(1,"p-button",16),c.Vb("click",function(){return c.tc(t),c.Zb(2).actualizar()}),c.Nb(),c.Nb()}}function jt(t,e){if(1&t){const t=c.Pb();c.Ob(0,"div",14),c.Ob(1,"p-button",17),c.Vb("click",function(){return c.tc(t),c.Zb(2).createAudios()}),c.Nb(),c.Nb()}}function At(t,e){if(1&t){const t=c.Pb();c.Ob(0,"div",9),c.Ob(1,"textarea",10),c.Vb("ngModelChange",function(e){return c.tc(t),c.Zb().textEdit=e}),c.Nb(),c.Ob(2,"div",11),c.Mb(3,12),c.Cc(4,St,2,0,"div",13),c.Cc(5,jt,2,0,"div",13),c.Ob(6,"div",14),c.Ob(7,"button",15),c.Vb("click",function(){c.tc(t);const e=c.Zb();return e.cancel(e.item.text)}),c.Nb(),c.Nb(),c.Lb(),c.Nb(),c.Nb()}if(2&t){const t=c.Zb();c.xb(1),c.fc("ngModel",t.textEdit),c.xb(3),c.fc("ngIf",!t.cliclEdit(t.item.text)),c.xb(1),c.fc("ngIf",t.cliclEdit(t.item.text))}}function Ft(t,e){if(1&t){const t=c.Pb();c.Mb(0,12),c.Ob(1,"div",14),c.Ob(2,"button",20),c.Vb("click",function(){c.tc(t);const e=c.Zb(2);return e.generarTexto(e.item)}),c.Nb(),c.Nb(),c.Ob(3,"div",14),c.Ob(4,"p-button",21),c.Vb("click",function(){return c.tc(t),c.Zb(2).createText()}),c.Nb(),c.Nb(),c.Lb()}if(2&t){const t=c.Zb(2);c.xb(2),c.fc("disabled",t.generate_text),c.xb(2),c.fc("disabled",t.generate_text)}}function Rt(t,e){if(1&t){const t=c.Pb();c.Mb(0),c.Ob(1,"div",14),c.Ob(2,"p-button",22),c.Vb("click",function(){return c.tc(t),c.Zb(2).editar()}),c.Nb(),c.Nb(),c.Lb()}}function Vt(t,e){if(1&t&&(c.Cc(0,Ft,5,2,"ng-container",18),c.Cc(1,Rt,3,0,"ng-container",19)),2&t){const t=c.Zb();c.fc("ngIf",t.cliclEdit(t.item.text)&&!t.editTextArea),c.xb(1),c.fc("ngIf",!t.cliclEdit(t.item.text)&&!t.editTextArea)}}const Zt=function(){return{height:"6px"}};function Tt(t,e){1&t&&(c.Ob(0,"div",23),c.Jb(1,"p-progressBar",24),c.Ob(2,"p"),c.Ec(3,"Generando texto descriptivo ..."),c.Nb(),c.Nb()),2&t&&(c.xb(1),c.Ac(c.hc(2,Zt)))}const Jt=function(){return{"margin-bottom":"2em"}};let Gt=(()=>{class t{constructor(t,e){this.learningObjectService=t,this.messageServicee=e,this.edit=!1,this.editTextArea=!1,this.generate_text=!1}ngOnInit(){this.textEdit=this.item.text}cliclEdit(t){return this.edit=null==t}generarTexto(t){return Object(a.a)(this,void 0,void 0,function*(){this.generate_text=!0,console.log(t.attributes[0].path_src),this.answers={tag_page_learning_object:t.id,type:"audio",html_text:t.html_text,id_ref:t.id_class_ref,method:"automatic",path_src:t.attributes[0].path_src,path_system:t.attributes[0].path_system},yield this.learningObjectService.sentCreateAudio(this.answers).subscribe(t=>{console.log("respuesta"+t),t&&(this.showSuccess("Se genero la descripci\xf3n del audio con exito"),this.editTextArea=!1,this.textEdit=t.text,this.item.text=this.textEdit,this.generate_text=!1)},t=>{this.showError("Error al generar la descripci\xf3n")})})}editar(){this.editTextArea=!0}cancel(t){this.editTextArea=!1,this.textEdit=t}createText(){this.editTextArea=!0}actualizar(){return Object(a.a)(this,void 0,void 0,function*(){this.answers={text:this.textEdit},yield this.learningObjectService.updateAudio(this.answers,this.item.id).subscribe(t=>{t&&(this.textEdit=t.text,this.showSuccess("Los datos se actualizaron con exito"),this.editTextArea=!1,this.item.text=this.textEdit)},t=>{304==t.status&&this.showError("Datos no modificados")})})}createAudios(){return Object(a.a)(this,void 0,void 0,function*(){this.answers={text:this.textEdit,tag_page_learning_object:this.item.id,type:"audio",html_text:this.item.html_text,id_ref:this.item.id_class_ref,method:"create"},yield this.learningObjectService.sentCreateAudio(this.answers).subscribe(t=>{t&&(this.textEdit=t.text,this.showSuccess("Los datos se agregaron con exito"),this.editTextArea=!1,this.edit=!0,this.item.text=t.text)},t=>{this.showError("Error al guardar los datos")})})}showError(t){this.messageServicee.add({severity:"error",summary:"Error",detail:t})}showSuccess(t){this.messageServicee.add({severity:"success",summary:"Success",detail:t})}}return t.\u0275fac=function(e){return new(e||t)(c.Ib(s.a),c.Ib(u.h))},t.\u0275cmp=c.Cb({type:t,selectors:[["app-audio"]],inputs:{item:"item"},decls:10,vars:7,consts:[["class","audio_src",4,"ngFor","ngForOf"],[1,"view_text"],["class","view_text_p",4,"ngIf"],["class","container-edit",4,"ngIf"],["pTemplate","footer","class","container-buttons"],["class","progress_bar",4,"ngIf"],[1,"audio_src"],["controls","","preload","none",1,"audio",3,"src"],[1,"view_text_p"],[1,"container-edit"],["rows","5","cols","30","pInputTextarea","",3,"ngModel","ngModelChange"],[1,"bnt-edit"],[1,"container-but"],["class","btn-sucessfull",4,"ngIf"],[1,"btn-sucessfull"],["pButton","","pRipple","","type","button","label","Cancelar","icon","pi pi-times",1,"p-button-danger",3,"click"],["label","Actualizar","icon","pi pi-check",3,"click"],["label","Crear","icon","pi pi-save",3,"click"],["class","container-but",4,"ngIf"],[4,"ngIf"],["pButton","","pRipple","","type","button","label","Generar texto","icon","pi pi-save",1,"p-button-success",3,"disabled","click"],["label","Crear","icon","pi pi-check",3,"disabled","click"],["label","Editar","icon","pi pi-pencil",3,"click"],[1,"progress_bar"],["mode","indeterminate"]],template:function(t,e){1&t&&(c.Ob(0,"p-card"),c.Cc(1,Et,2,1,"div",0),c.Ob(2,"div",1),c.Ob(3,"h6"),c.Ec(4,"Descripci\xf3n de audio:"),c.Nb(),c.Cc(5,kt,3,1,"div",2),c.Nb(),c.Jb(6,"p-messages"),c.Cc(7,At,8,3,"div",3),c.Cc(8,Vt,2,2,"ng-template",4),c.Cc(9,Tt,4,3,"div",5),c.Nb()),2&t&&(c.Ac(c.hc(6,Jt)),c.xb(1),c.fc("ngForOf",e.item.attributes),c.xb(4),c.fc("ngIf",!e.editTextArea),c.xb(2),c.fc("ngIf",e.editTextArea),c.xb(2),c.fc("ngIf",e.generate_text))},directives:[G.a,i.i,i.j,z.a,u.j,C.a,wt.a,C.j,C.l,_.b,x.a,_.a,It.a],styles:["[_nghost-%COMP%]     .p-card .p-card-footer{display:flex}.btn-sucessfull[_ngcontent-%COMP%]{margin:5px}textarea[_ngcontent-%COMP%]{width:100%}.bnt-edit[_ngcontent-%COMP%]{display:flex}.audio_src[_ngcontent-%COMP%]   audio[_ngcontent-%COMP%]{width:100%}.view_text[_ngcontent-%COMP%]{padding-top:5px}.view_text[_ngcontent-%COMP%]   .view_text_p[_ngcontent-%COMP%]{width:100%;max-height:100px;overflow-y:auto}.progress_bar[_ngcontent-%COMP%]{text-align:center}.progress_bar[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:grey}"]}),t})();function zt(t,e){if(1&t&&(c.Ob(0,"div",2),c.Jb(1,"app-audio",3),c.Nb()),2&t){const t=e.$implicit;c.xb(1),c.fc("item",t)}}let Dt=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Cb({type:t,selectors:[["app-audio-content"]],inputs:{audiosGroup:"audiosGroup",nFoundAudio:"nFoundAudio"},decls:2,vars:1,consts:[[1,"p-grid"],["class","p-col-12 p-md-6 p-lg-4",4,"ngFor","ngForOf"],[1,"p-col-12","p-md-6","p-lg-4"],[3,"item"]],template:function(t,e){1&t&&(c.Ob(0,"div",0),c.Cc(1,zt,2,1,"div",1),c.Nb()),2&t&&(c.xb(1),c.fc("ngForOf",e.audiosGroup))},directives:[i.i,Gt],styles:[""]}),t})();const Lt=r.a.baseUrl;let Bt=(()=>{class t{constructor(t){this.http=t}getVidoTranscript(t){return this.http.get(`${Lt}/adapter/gettranscript/${t}`)}generateAutomaticTranscript(t){return this.http.post(`${Lt}/adapter/video/subtitle/generate/${t}`,{})}}return t.\u0275fac=function(e){return new(e||t)(c.Sb(l.a))},t.\u0275prov=c.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function $t(t,e){1&t&&(c.Ob(0,"p"),c.Ec(1,"Este v\xeddeo no tiene con subt\xedtulos"),c.Nb())}function qt(t,e){if(1&t){const t=c.Pb();c.Ob(0,"p-messages",9),c.Vb("valueChange",function(e){return c.tc(t),c.Zb().messages=e}),c.Nb()}if(2&t){const t=c.Zb();c.fc("value",t.messages)("enableService",!1)}}function Ut(t,e){if(1&t){const t=c.Pb();c.Ob(0,"li"),c.Ob(1,"div",12),c.Ob(2,"p"),c.Ec(3,"Idiaoma: "),c.Nb(),c.Ob(4,"span"),c.Ec(5),c.Nb(),c.Jb(6,"br"),c.Ob(7,"span"),c.Ec(8),c.Nb(),c.Nb(),c.Ob(9,"p-button",13),c.Vb("click",function(){c.tc(t);const n=e.$implicit;return c.Zb(2).jsonToString(n.id)}),c.Nb(),c.Nb()}if(2&t){const t=e.$implicit;c.xb(5),c.Hc("",t.label," - ",t.srclang,""),c.xb(3),c.Fc(t.source)}}function Ht(t,e){if(1&t&&(c.Ob(0,"div",10),c.Ob(1,"h5"),c.Ec(2,"Subtitulos"),c.Nb(),c.Ob(3,"ul"),c.Cc(4,Ut,10,3,"li",11),c.Nb(),c.Nb()),2&t){const t=c.Zb();c.xb(4),c.fc("ngForOf",t.transcript)}}const Wt=function(){return{width:"50px",height:"50px"}};function Kt(t,e){if(1&t&&(c.Mb(0),c.Ob(1,"div",17),c.Jb(2,"p-progressSpinner",18),c.Ob(3,"p"),c.Ec(4),c.Nb(),c.Nb(),c.Lb()),2&t){const t=c.Zb(2);c.xb(2),c.Ac(c.hc(3,Wt)),c.xb(2),c.Gc("",t.loaderGenerateSubtitle?"Generando":"Cargando"," subt\xedtulos por favor espere...")}}function Qt(t,e){if(1&t){const t=c.Pb();c.Ob(0,"p-button",20),c.Vb("onClick",function(){return c.tc(t),c.Zb(3).onGenerateSubtitle()}),c.Nb()}}function Yt(t,e){if(1&t&&c.Cc(0,Qt,1,0,"p-button",19),2&t){const t=c.Zb(2);c.fc("ngIf",(null==t.transcript?null:t.transcript.length)<=0)}}function Xt(t,e){if(1&t&&(c.Ob(0,"div",14),c.Ob(1,"div",15),c.Cc(2,Kt,5,4,"ng-container",7),c.Cc(3,Yt,1,1,"ng-template",null,16,c.Dc),c.Nb(),c.Nb()),2&t){const t=c.rc(4),e=c.Zb();c.xb(2),c.fc("ngIf",e.loaderGenerateSubtitle||e.loader)("ngIfElse",t)}}function te(t,e){if(1&t){const t=c.Pb();c.Ob(0,"button",24),c.Vb("click",function(){return c.tc(t),c.Zb(2).onCancelSelection()}),c.Nb()}}function ee(t,e){if(1&t){const t=c.Pb();c.Ob(0,"div",21),c.Ob(1,"p-button",22),c.Vb("click",function(){return c.tc(t),c.Zb().selectFile=!0}),c.Nb(),c.Cc(2,te,1,0,"button",23),c.Nb()}if(2&t){const t=c.Zb();c.xb(2),c.fc("ngIf",t.selectFile)}}function ne(t,e){if(1&t&&(c.Mb(0),c.Ob(1,"p"),c.Ec(2),c.Nb(),c.Lb()),2&t){const t=c.Zb();c.xb(2),c.Fc(t.jsonString)}}function ie(t,e){1&t&&(c.Ob(0,"div",17),c.Jb(1,"p-progressSpinner",18),c.Ob(2,"p"),c.Ec(3,"Cargando subt\xedtulo por favor espere..."),c.Nb(),c.Nb()),2&t&&(c.xb(1),c.Ac(c.hc(2,Wt)))}function oe(t,e){if(1&t){const t=c.Pb();c.Ob(0,"p-button",25),c.Vb("click",function(){return c.tc(t),c.Zb().displaySubtitle=!1}),c.Nb()}}const ae=function(){return{"margin-bottom":"2em"}},ce=function(){return{width:"50vw"}};let se=(()=>{class t{constructor(t,e){this.videoService=t,this.messageService=e,this.selectFile=!1,this.loader=!1,this.loaderGenerateSubtitle=!1,this.loaderJson=!1,this.subscrition=[],this.messages=[],this.language=[{name:"Alem\xe1n",code:"de"},{name:"Espa\xf1ol",code:"es"},{name:"Franc\xe9s",code:"fr"},{name:"Holand\xe9s",code:"nl"},{name:"H\xfangaro",code:"hu"},{name:"Ingles",code:"en"},{name:"Italiano",code:"it"},{name:"Portugu\xe9s",code:"pt"},{name:"Ruso",code:"ru"}]}ngOnDestroy(){this.subscrition.forEach(t=>t.unsubscribe())}ngOnInit(){this.loadTranscript(),this.messages=[]}loadTranscript(){var t,e;return Object(a.a)(this,void 0,void 0,function*(){(null===(e=null===(t=this.video.tags_adapted)||void 0===t?void 0:t.transcript)||void 0===e?void 0:e.length)>0&&(this.transcript=this.video.tags_adapted.transcript.filter(t=>"JSONcc"===t.type))})}stopVideo(){var t=document.querySelector("iframe"),e=document.querySelector("video");t&&(t.src=t.src),e&&e.pause()}functionLoad(){}onCancelSelection(){this.selectFile=!1}onGenerateSubtitle(){this.messages=[],this.loaderGenerateSubtitle=!0;let t=this.videoService.generateAutomaticTranscript(this.video.id).subscribe(t=>{"ready_tag_adapted"===t.status?this.messages.push({severity:"warn",summary:"",detail:"La fuente de v\xeddeo no soporta o tiene traducciones pero seguimos desarrollando."}):(this.video.tags_adapted=t,this.loadTranscript(),this.messages.push("no_suported_transcript"===t.code?{severity:"warn",detail:"La fuente de v\xeddeo no soporta tiene traducciones."}:{severity:"success",detail:"Se ha generado los subt\xedtulos autom\xe1ticamente."})),this.loaderGenerateSubtitle=!1},t=>{this.messages.push({severity:"error",summary:"Error",detail:t.message}),this.loaderGenerateSubtitle=!1});this.subscrition.push(t)}onAddForSubtitle(){this.loader=!0}onRemoveForSubtitle(t){}jsonToString(t){return Object(a.a)(this,void 0,void 0,function*(){this.displaySubtitle=!0,this.loaderJson=!0;let e=yield this.videoService.getVidoTranscript(t).subscribe(t=>{let e=t.transcript.map(t=>t.text);this.jsonString=e.join(" "),this.loaderJson=!1},t=>console.log(t));this.subscrition.push(e)})}}return t.\u0275fac=function(e){return new(e||t)(c.Ib(Bt),c.Ib(u.h))},t.\u0275cmp=c.Cb({type:t,selectors:[["app-video"]],inputs:{video:"video"},decls:17,vars:17,consts:[["sandbox","allow-same-origin allow-scripts allow-popups allow-forms","title","YouTube video player","autoplay","false","frameborder","0","allow","accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture","allowfullscreen","",1,"video",3,"src","onload"],[4,"ngIf"],[3,"value","enableService","valueChange",4,"ngIf"],["class","content-subtitle",4,"ngIf"],["class","add-subtitle",4,"ngIf"],["pTemplate","footer"],["header","Traducci\xf3n",3,"visible","visibleChange"],[4,"ngIf","ngIfElse"],["jsonTemplate",""],[3,"value","enableService","valueChange"],[1,"content-subtitle"],[4,"ngFor","ngForOf"],[1,"description"],["label","Ver","styleClass","p-button-sm",3,"click"],[1,"add-subtitle"],[1,"content-buttons"],["spinnerTemplate",""],[1,"spinner-progress"],["styleClass","custom-spinner","strokeWidth","8","animationDuration",".5s"],["label","Generar subt\xedtulo",3,"onClick",4,"ngIf"],["label","Generar subt\xedtulo",3,"onClick"],[1,"footer-buttons"],["label","Editar","icon","pi pi-check",3,"click"],["pButton","","pRipple","","type","button","icon","pi pi-times","label","Cancelar","class","p-button-danger",3,"click",4,"ngIf"],["pButton","","pRipple","","type","button","icon","pi pi-times","label","Cancelar",1,"p-button-danger",3,"click"],["icon","pi pi-times","label","Cerrar","styleClass","p-button-text",3,"click"]],template:function(t,e){if(1&t&&(c.Ob(0,"p-card"),c.Ob(1,"p"),c.Ec(2,"Fuente: "),c.Ob(3,"span"),c.Ec(4),c.Nb(),c.Nb(),c.Ob(5,"iframe",0),c.Vb("onload",function(){return e.functionLoad()}),c.ac(6,"urlsanitizer"),c.Nb(),c.Cc(7,$t,2,0,"p",1),c.Cc(8,qt,1,2,"p-messages",2),c.Cc(9,Ht,5,1,"div",3),c.Cc(10,Xt,5,2,"div",4),c.Cc(11,ee,3,1,"ng-template",5),c.Nb(),c.Ob(12,"p-dialog",6),c.Vb("visibleChange",function(t){return e.displaySubtitle=t}),c.Cc(13,ne,3,1,"ng-container",7),c.Cc(14,ie,4,3,"ng-template",null,8,c.Dc),c.Cc(16,oe,1,0,"ng-template",5),c.Nb()),2&t){const t=c.rc(15);c.Ac(c.hc(15,ae)),c.xb(4),c.Fc(e.video.attributes[0].source),c.xb(1),c.fc("src",c.bc(6,13,e.video.attributes[0].path_preview),c.vc),c.xb(2),c.fc("ngIf",(null==e.video.tags_adapted||null==e.video.tags_adapted.transcript?null:e.video.tags_adapted.transcript.length)<=0),c.xb(1),c.fc("ngIf",e.messages.length>0),c.xb(1),c.fc("ngIf",(null==e.transcript?null:e.transcript.length)>0),c.xb(1),c.fc("ngIf",e.selectFile),c.xb(2),c.Ac(c.hc(16,ce)),c.fc("visible",e.displaySubtitle),c.xb(1),c.fc("ngIf",!e.loaderJson)("ngIfElse",t)}},directives:[G.a,i.j,u.j,I.a,z.a,i.i,_.a,D.a,_.b,x.a],pipes:[m],styles:[".video[_ngcontent-%COMP%]{width:100%;height:25vh}.content-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.content-buttons[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:5px;color:--var(--color-primary);font-size:1.2rem;font-weight:700}.content-subtitle[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:5px 0 0}.content-subtitle[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.content-subtitle[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;padding:5px 0}.content-subtitle[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-weight:700}.content-subtitle[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 5px}.footer-buttons[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]{margin-right:10px}.form-subtitle[_ngcontent-%COMP%]{margin-top:10px}.form-subtitle[_ngcontent-%COMP%]   .p-col-12[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.form-subtitle[_ngcontent-%COMP%]   .p-col-12[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-subtitle[_ngcontent-%COMP%]   .p-col-12[_ngcontent-%COMP%]   p-dropdown[_ngcontent-%COMP%]{width:100%}.spinner-progress[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}"]}),t})();function re(t,e){if(1&t&&(c.Ob(0,"div",2),c.Jb(1,"app-video",3),c.Nb()),2&t){const t=e.$implicit;c.xb(1),c.fc("video",t)}}let le=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Cb({type:t,selectors:[["app-video-content"]],inputs:{videos:"videos"},decls:2,vars:1,consts:[[1,"p-grid"],["class","p-col-12 p-md-6 p-lg-4",4,"ngFor","ngForOf"],[1,"p-col-12","p-md-6","p-lg-4"],[3,"video"]],template:function(t,e){1&t&&(c.Ob(0,"div",0),c.Cc(1,re,2,1,"div",1),c.Nb()),2&t&&(c.xb(1),c.fc("ngForOf",e.videos))},directives:[i.i,se],styles:[""]}),t})();function be(t,e){1&t&&(c.Ob(0,"span"),c.Ec(1,"Objeto de aprendizaje adaptado"),c.Nb())}function de(t,e){1&t&&(c.Ob(0,"span"),c.Ec(1,"Objeto de aprendizaje original"),c.Nb())}function pe(t,e){1&t&&(c.Jb(0,"i",14),c.Ob(1,"span"),c.Ec(2,"Informacion"),c.Nb())}function ue(t,e){1&t&&(c.Jb(0,"i",15),c.Ob(1,"span"),c.Ec(2,"Metadatos"),c.Nb())}function ge(t,e){if(1&t){const t=c.Pb();c.Ob(0,"div",10),c.Ob(1,"div",5),c.Ob(2,"p-tabView",11),c.Ob(3,"p-tabPanel"),c.Cc(4,pe,3,0,"ng-template",7),c.Ob(5,"app-oa-info",12),c.Vb("eventAdaptabilit",function(e){return c.tc(t),c.Zb(2).eventAdaptabilit(e)}),c.Nb(),c.Nb(),c.Ob(6,"p-tabPanel",13),c.Cc(7,ue,3,0,"ng-template",7),c.Ob(8,"p"),c.Ec(9,"Metadatos"),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb()}if(2&t){const t=c.Zb(2);c.xb(5),c.fc("oa_detail",t.learningObject.oa_detail)("file_detail",t.learningObject.file_detail)("config_adaptability",t.learningObject.config_adaptability)("oa_id",t.learningObject.id)}}function he(t,e){if(1&t){const t=c.Pb();c.Mb(0),c.Ob(1,"div",3),c.Ob(2,"div",4),c.Ob(3,"div",5),c.Ob(4,"p-tabView",6),c.Vb("onChange",function(e){return c.tc(t),c.Zb().onChangeWebview(e)}),c.Ob(5,"p-tabPanel"),c.Cc(6,be,2,0,"ng-template",7),c.Ob(7,"app-webview",8),c.Vb("eventPage",function(e){return c.tc(t),c.Zb().eventPage(e)}),c.Nb(),c.Nb(),c.Ob(8,"p-tabPanel"),c.Cc(9,de,2,0,"ng-template",7),c.Ob(10,"app-webview",8),c.Vb("eventPage",function(e){return c.tc(t),c.Zb().eventPage(e)}),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Cc(11,ge,10,4,"div",9),c.Nb(),c.Lb()}if(2&t){const t=c.Zb();c.xb(7),c.fc("pages",t.learningObject.pages_adapted),c.xb(3),c.fc("pages",t.learningObject.pages_origin),c.xb(1),c.fc("ngIf",t.learningObject)}}function fe(t,e){1&t&&(c.Ob(0,"div",16),c.Ob(1,"div",17),c.Jb(2,"p-skeleton",18),c.Ob(3,"div",19),c.Jb(4,"p-skeleton",20),c.Jb(5,"p-skeleton",20),c.Nb(),c.Nb(),c.Ob(6,"div",21),c.Ob(7,"div",22),c.Ob(8,"div",23),c.Jb(9,"p-skeleton",24),c.Nb(),c.Ob(10,"div",23),c.Jb(11,"p-skeleton",24),c.Nb(),c.Nb(),c.Jb(12,"p-skeleton",25),c.Jb(13,"p-skeleton",26),c.Jb(14,"p-skeleton",27),c.Jb(15,"p-skeleton",28),c.Jb(16,"p-skeleton",29),c.Jb(17,"p-skeleton",30),c.Jb(18,"p-skeleton",31),c.Jb(19,"p-skeleton",32),c.Jb(20,"p-skeleton",33),c.Nb(),c.Ob(21,"div",34),c.Ob(22,"div",22),c.Ob(23,"div",23),c.Jb(24,"p-skeleton",24),c.Nb(),c.Ob(25,"div",23),c.Jb(26,"p-skeleton",24),c.Nb(),c.Ob(27,"div",23),c.Jb(28,"p-skeleton",24),c.Nb(),c.Ob(29,"div",23),c.Jb(30,"p-skeleton",24),c.Nb(),c.Nb(),c.Jb(31,"p-skeleton",28),c.Jb(32,"p-skeleton",35),c.Jb(33,"p-skeleton",36),c.Nb(),c.Nb())}function me(t,e){1&t&&(c.Jb(0,"i",44),c.Ob(1,"span"),c.Ec(2,"Parrafos"),c.Nb())}function Oe(t,e){if(1&t&&(c.Mb(0),c.Jb(1,"app-paragraph-content",45),c.Lb()),2&t){const t=c.Zb(3);c.xb(1),c.fc("paragraphs",t.paragraphs)}}function ve(t,e){1&t&&(c.Ob(0,"h5",46),c.Ec(1,"Esta p\xe1gina no contiene p\xe1rrafos"),c.Nb())}function Ce(t,e){if(1&t&&(c.Ob(0,"p-tabPanel",42),c.Cc(1,me,3,0,"ng-template",7),c.Cc(2,Oe,2,1,"ng-container",0),c.Cc(3,ve,2,0,"ng-template",null,43,c.Dc),c.Nb()),2&t){const t=c.rc(4),e=c.Zb(2);c.xb(2),c.fc("ngIf",(null==e.paragraphs?null:e.paragraphs.length)>0)("ngIfElse",t)}}function _e(t,e){1&t&&(c.Jb(0,"i",49),c.Ob(1,"span"),c.Ec(2,"Im\xe1genes"),c.Nb())}function xe(t,e){if(1&t&&(c.Mb(0),c.Jb(1,"app-image-content",50),c.Lb()),2&t){const t=c.Zb(3);c.xb(1),c.fc("imagesGroup",t.imagesGroup)("nFoundImage",t.nFoundImage)}}function Pe(t,e){1&t&&(c.Ob(0,"h5",46),c.Ec(1,"Esta p\xe1gina no contiene im\xe1genes"),c.Nb())}function Ne(t,e){if(1&t&&(c.Ob(0,"p-tabPanel",47),c.Cc(1,_e,3,0,"ng-template",7),c.Cc(2,xe,2,2,"ng-container",0),c.Cc(3,Pe,2,0,"ng-template",null,48,c.Dc),c.Nb()),2&t){const t=c.rc(4),e=c.Zb(2);c.xb(2),c.fc("ngIf",!e.nFoundImage)("ngIfElse",t)}}function ye(t,e){1&t&&(c.Jb(0,"i",53),c.Ob(1,"span"),c.Ec(2,"Audios"),c.Nb())}function Me(t,e){if(1&t&&(c.Mb(0),c.Jb(1,"app-audio-content",54),c.Lb()),2&t){const t=c.Zb(3);c.xb(1),c.fc("audiosGroup",t.audiosGroup)}}function we(t,e){1&t&&(c.Ob(0,"h5",46),c.Ec(1,"Esta p\xe1gina no contiene im\xe1genes"),c.Nb())}function Ie(t,e){if(1&t&&(c.Ob(0,"p-tabPanel",51),c.Cc(1,ye,3,0,"ng-template",7),c.Cc(2,Me,2,1,"ng-container",0),c.Cc(3,we,2,0,"ng-template",null,52,c.Dc),c.Nb()),2&t){const t=c.rc(4),e=c.Zb(2);c.xb(2),c.fc("ngIf",!e.nFoundAudio)("ngIfElse",t)}}function Ee(t,e){1&t&&(c.Jb(0,"i",57),c.Ob(1,"span"),c.Ec(2,"V\xeddeos"),c.Nb())}function ke(t,e){if(1&t&&(c.Mb(0),c.Jb(1,"app-video-content",58),c.Lb()),2&t){const t=c.Zb(3);c.xb(1),c.fc("videos",t.videos)}}function Se(t,e){1&t&&(c.Ob(0,"h5",46),c.Ec(1,"Esta p\xe1gina no contiene v\xeddeos"),c.Nb())}function je(t,e){if(1&t&&(c.Ob(0,"p-tabPanel",55),c.Cc(1,Ee,3,0,"ng-template",7),c.Cc(2,ke,2,1,"ng-container",0),c.Cc(3,Se,2,0,"ng-template",null,56,c.Dc),c.Nb()),2&t){const t=c.rc(4),e=c.Zb(2);c.xb(2),c.fc("ngIf",(null==e.videos?null:e.videos.length)>0)("ngIfElse",t)}}function Ae(t,e){if(1&t){const t=c.Pb();c.Ob(0,"div",37),c.Ob(1,"p-tabView",6),c.Vb("onChange",function(e){return c.tc(t),c.Zb().onChangeTab(e)}),c.Cc(2,Ce,5,2,"p-tabPanel",38),c.Cc(3,Ne,5,2,"p-tabPanel",39),c.Cc(4,Ie,5,2,"p-tabPanel",40),c.Cc(5,je,5,2,"p-tabPanel",41),c.Nb(),c.Nb()}if(2&t){const t=c.Zb();c.xb(2),c.fc("ngIf",t.paragraph),c.xb(1),c.fc("ngIf",t.image),c.xb(1),c.fc("ngIf",t.audio),c.xb(1),c.fc("ngIf",t.video)}}const Fe=[{path:"",component:(()=>{class t{constructor(t,e,n){this.route=t,this.learningObjectService=e,this.pageService=n,this.subscriptions=[],this.tabIndex=0,this.subscribes=[],this.nFoundImage=!1,this.nFoundAudio=!1,this.tabAdapted=!0}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}ngOnInit(){let t=this.route.params.subscribe(t=>{this.id=+t.id,this.loadData()});this.subscriptions.push(t)}loadData(){return Object(a.a)(this,void 0,void 0,function*(){let t=yield this.learningObjectService.getLearningObject(this.id).subscribe(t=>{this.learningObject=t;let e=t.pages_adapted.filter(t=>t.preview_path.includes("index.html"));this.currentPageId=e[0].id,this.image=this.getValueCheck("image"),this.video=this.getValueCheck("video"),this.audio=this.getValueCheck("audio"),this.paragraph=this.getValueCheck("paragraph"),this.loadParagraph()},t=>{console.log(t)});this.subscriptions.push(t)})}loadParagraph(){return Object(a.a)(this,void 0,void 0,function*(){this.paragraphs=[];let t=yield this.pageService.getParagraph(this.currentPageId).subscribe(t=>{this.paragraphs=t},t=>{});this.subscriptions.push(t)})}loadImage(){this.loadDataI(Number(this.currentPageId))}loadAudio(){this.loadDataA(Number(this.currentPageId))}loadVideo(){this.videos=[];let t=this.pageService.getVideo(this.currentPageId).subscribe(t=>{this.videos=t},t=>console.log(t));this.subscriptions.push(t)}getValueCheck(t){return this.learningObject.config_adaptability.areas.includes(t)}eventAdaptabilit(t){this.image=t.image,this.video=t.video,this.audio=t.audio,this.paragraph=t.paragraph}eventPage(t){"adapted"===t.type&&(this.currentPageId=t.id,this.reLoadData(this.tabIndex))}onChangeTab(t){this.tabIndex=t.index,this.reLoadData(this.tabIndex)}reLoadData(t){switch(t){case 0:this.loadParagraph();break;case 1:this.loadImage();break;case 2:this.loadAudio();break;case 3:this.loadVideo()}}loadDataI(t){return Object(a.a)(this,void 0,void 0,function*(){let e=yield this.learningObjectService.getImagesForPge(t).subscribe(t=>{this.imagesGroup=t.map(t=>({id:t.id,id_tag_adapated:t.tags_adapted.id,link:t.tags_adapted.path_src,ref:t.tags_adapted.id_ref,text:t.tags_adapted.text})),this.imagesGroup=this.imagesGroup,this.nFoundImage=!1},t=>{this.nFoundImage=!0});this.subscribes.push(e)})}loadDataA(t){return Object(a.a)(this,void 0,void 0,function*(){let e=yield this.learningObjectService.getAudiosForPge(t).subscribe(t=>{this.audiosGroup=t.map(t=>{var e,n,i,o;return{id:t.id,html_text:t.html_text,attributes:t.attributes.map(t=>({path_src:t.data_attribute,path_system:t.path_system})),id_class_ref:t.id_class_ref,id_tag_adapated:null===(e=t.tags_adapted)||void 0===e?void 0:e.id,link:null===(n=t.tags_adapted)||void 0===n?void 0:n.path_src,ref:null===(i=t.tags_adapted)||void 0===i?void 0:i.id_ref,text:null===(o=t.tags_adapted)||void 0===o?void 0:o.text}}),this.audiosGroup=this.audiosGroup,this.nFoundAudio=!1},t=>{this.nFoundAudio=!0});this.subscribes.push(e)})}onSave(t){}onChangeWebview(t){this.tabAdapted=0===t.index}}return t.\u0275fac=function(e){return new(e||t)(c.Ib(o.a),c.Ib(s.a),c.Ib(d))},t.\u0275cmp=c.Cb({type:t,selectors:[["app-adapter-detail"]],decls:4,vars:3,consts:[[4,"ngIf","ngIfElse"],["learningTemplate",""],["class","card main-content oa-adaptability",4,"ngIf"],[1,"p-grid","oa-info"],[1,"p-col-12","p-md-8","p-lg-9"],[1,"card"],["styleClass","webview-container",3,"onChange"],["pTemplate","header"],[3,"pages","eventPage"],["class","p-col-12 p-md-4 p-lg-3 sidebar",4,"ngIf"],[1,"p-col-12","p-md-4","p-lg-3","sidebar"],["styleClass","information-container"],[3,"oa_detail","file_detail","config_adaptability","oa_id","eventAdaptabilit"],["header","Header II"],[1,"pi","pi-exclamation-circle"],[1,"pi","pi-sliders-h"],[1,"custom-skeleton","p-p-12","p-grid"],[1,"p-field","p-col-12","p-md-9","p-lg-9"],["width","100%","height","70vh"],[1,"p-d-flex","p-jc-between","p-mt-3"],["width","4rem","height","2rem"],[1,"p-field","p-col-12","p-md-3"],[1,"p-grid"],[1,"p-col-12","p-md-3","p-lg-3"],["width","10rem","height","2rem"],["width","10rem","styleClass","p-mb-2"],["width","70%","styleClass","p-mb-2"],["width","5%","styleClass","p-mb-2"],["width","100%","styleClass","p-mb-2"],["width","90%","styleClass","p-mb-2"],["width","50%","styleClass","p-mb-2"],["width","60%","styleClass","p-mb-2"],["width","40%","styleClass","p-mb-2"],["width","20%","styleClass","p-mb-2"],[1,"p-field","p-col-12","p-md-9"],["width","75%","styleClass","p-mb-2"],["height","50%","styleClass","p-mb-2"],[1,"card","main-content","oa-adaptability"],["id","parrafo","header","Parrafos",4,"ngIf"],["header","Imagenes",4,"ngIf"],["header","Audios",4,"ngIf"],["header","V\xeddeos",4,"ngIf"],["id","parrafo","header","Parrafos"],["paragraphsTemplate",""],[1,"pi","pi-align-center"],[3,"paragraphs"],[1,"no-content"],["header","Imagenes"],["imagesTemplate",""],[1,"pi","pi-image"],[3,"imagesGroup","nFoundImage"],["header","Audios"],["audioTemplate",""],[1,"pi","pi-play"],[3,"audiosGroup"],["header","V\xeddeos"],["videosTemplate",""],[1,"pi","pi-video"],[3,"videos"]],template:function(t,e){if(1&t&&(c.Cc(0,he,12,3,"ng-container",0),c.Cc(1,fe,34,0,"ng-template",null,1,c.Dc),c.Cc(3,Ae,6,4,"div",2)),2&t){const t=c.rc(2);c.fc("ngIf",e.learningObject)("ngIfElse",t),c.xb(3),c.fc("ngIf",e.tabAdapted)}},directives:[i.j,p.b,p.a,u.j,w,R,V.a,ft,Mt,Dt,le],styles:[".card[_ngcontent-%COMP%]{padding-top:10px;margin-bottom:-2px}.oa-info[_ngcontent-%COMP%]{box-sizing:border-box}.oa-info[_ngcontent-%COMP%], .oa-info[_ngcontent-%COMP%]   .p-col-12[_ngcontent-%COMP%]{margin:0;padding:0}.oa-info[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{padding:10px 5px;height:100%}.oa-info[_ngcontent-%COMP%]{z-index:100;position:relative}[_nghost-%COMP%]     .p-tabview-panels{padding:0}.no-content[_ngcontent-%COMP%]{opacity:.5;text-align:center;padding:25px;margin:0}.custom-skeleton[_ngcontent-%COMP%]{width:100%;margin-bottom:25px}"]}),t})(),data:{breadcrumb:null}}];let Re=(()=>{class t{}return t.\u0275mod=c.Gb({type:t}),t.\u0275inj=c.Fb({factory:function(e){return new(e||t)},imports:[[o.h.forChild(Fe)],o.h]}),t})();var Ve=n("QGhL"),Ze=n("PCNd");let Te=(()=>{class t{}return t.\u0275mod=c.Gb({type:t}),t.\u0275inj=c.Fb({factory:function(e){return new(e||t)},imports:[[i.b,Ze.a,Ve.a]]}),t})(),Je=(()=>{class t{}return t.\u0275mod=c.Gb({type:t}),t.\u0275inj=c.Fb({factory:function(e){return new(e||t)},imports:[[i.b,Re,Ve.a,Ze.a,Te]]}),t})()}}]);