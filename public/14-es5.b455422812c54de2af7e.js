!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"5YYF":function(t,i,a){"use strict";a.r(i),a.d(i,"AdapterDetailModule",function(){return sn});var o,r,c,s,u=a("ofXK"),l=a("tyNb"),b=a("mrSG"),d=a("fXoL"),p=a("t3rE"),g=a("AytR"),f=a("tk/3"),h=g.a.baseUrl,v=((o=function(){function t(n){e(this,t),this.http=n}return n(t,[{key:"getPageInfo",value:function(e){return this.http.get("".concat(h,"/page/").concat(e))}},{key:"getParagraph",value:function(e){return this.http.get("".concat(h,"/page/paragraph/").concat(e))}},{key:"getImage",value:function(e){}},{key:"getVideo",value:function(e){return this.http.get("".concat(h,"/page/video/").concat(e))}},{key:"getAudio",value:function(e){}}]),t}()).\u0275fac=function(e){return new(e||o)(d.Sb(f.a))},o.\u0275prov=d.Eb({token:o,factory:o.\u0275fac,providedIn:"root"}),o),m=a("dPl2"),O=a("7zfz"),C=((r=function(){function t(){e(this,t),this.event$=new d.n}return n(t,[{key:"emitEvent",value:function(e){this.event$.emit(e)}},{key:"getEvent",value:function(){return this.event$}}]),t}()).\u0275fac=function(e){return new(e||r)},r.\u0275prov=d.Eb({token:r,factory:r.\u0275fac,providedIn:"root"}),r),x=a("sYmb"),_=a("jhN1"),y=((s=function(){function t(n){e(this,t),this.domSanitizer=n}return n(t,[{key:"transform",value:function(e){return this.domSanitizer.bypassSecurityTrustResourceUrl(e)}}]),t}()).\u0275fac=function(e){return new(e||s)(d.Ib(_.b))},s.\u0275pipe=d.Hb({name:"urlsanitizer",type:s,pure:!0}),s),P=((c=function(){function t(n){e(this,t),this.eventService=n}return n(t,[{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"ngOnInit",value:function(){this.loadEvent()}},{key:"loadEvent",value:function(){var e=this;this.subscription=this.eventService.getEvent().subscribe(function(t){if("adapted"===e.page.type){console.log("event refresh",e.page);var n=document.getElementById("web-view");n.src="",n.src=e.page.code}})}}]),t}()).\u0275fac=function(e){return new(e||c)(d.Ib(C))},c.\u0275cmp=d.Cb({type:c,selectors:[["app-iframe"]],inputs:{page:"page"},decls:3,vars:6,consts:[["id","web-view","target","_parent","frameborder","0","allowfullscreen","",3,"title","src"]],template:function(e,t){1&e&&(d.Jb(0,"iframe",0),d.ac(1,"translate"),d.ac(2,"urlsanitizer")),2&e&&d.fc("title",d.bc(1,2,"object.titleIframe"))("src",d.bc(2,4,t.page.code),d.vc)},pipes:[x.c,y],styles:["iframe[_ngcontent-%COMP%]{width:100%;height:100%}"]}),c),w=a("arFO"),k=a("3Pt+"),N=a("jIHw"),M=a("Q4Mo"),I=a("xlun"),E=["webView"];function S(e,t){if(1&e){var n=d.Pb();d.Mb(0),d.Ob(1,"button",9),d.Vb("click",function(){return d.tc(n),d.Zb().closeFullscreen()}),d.Nb(),d.Lb()}}function j(e,t){if(1&e){var n=d.Pb();d.Ob(0,"button",10),d.Vb("click",function(){return d.tc(n),d.Zb().openFullscreen()}),d.ac(1,"translate"),d.Nb()}2&e&&d.fc("pTooltip",d.bc(1,1,"object.btnFullScreen"))}var A,R=((A=function(){function t(n){e(this,t),this.learningObjectService=n,this.eventPage=new d.n,this.fullScreen=!1}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.learningObjectService.enviarMensajeObservable.subscribe(function(t){e.mensajeID=t});var t=this.pages.filter(function(e){return e.preview_path.includes("index.html")});this.selectedPage={name:t[0].title,code:t[0].preview_path,id:t[0].id,type:t[0].type},this.learningObjectService.enviarMensaje(this.selectedPage.id),this.pagesSelect=this.pages.map(function(e){return{name:e.title,code:e.preview_path,id:e.id,type:e.type}})}},{key:"openFullscreen",value:function(){var e=this.webView.nativeElement;this.fullScreen=!0,e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()}},{key:"closeFullscreen",value:function(){document.exitFullscreen&&document.exitFullscreen(),this.fullScreen=!1}},{key:"onChange",value:function(e){this.eventPage.emit(e.value),this.mensajeID=e.value.id,this.learningObjectService.enviarMensaje(this.mensajeID)}}]),t}()).\u0275fac=function(e){return new(e||A)(d.Ib(p.a))},A.\u0275cmp=d.Cb({type:A,selectors:[["app-webview"]],viewQuery:function(e,t){var n;1&e&&d.Kc(E,!0),2&e&&d.qc(n=d.Wb())&&(t.webView=n.first)},inputs:{pages:"pages"},outputs:{eventPage:"eventPage"},decls:13,vars:6,consts:[[1,"web-view","animate__animated","animate__fadeIn"],["webView",""],[1,"iframe"],[3,"page"],[1,"controls"],[1,"dropdown"],["optionLabel","name",3,"options","ngModel","showClear","onChange","ngModelChange"],[4,"ngIf","ngIfElse"],["elseTemplate",""],["aria-label","Boton de salir de la pantalla completa","pButton","","pRipple","","type","button","icon","pi pi-window-minimize",1,"p-button-rounded","p-button-outlined",3,"click"],["aria-label","Boton de pantalla completa","pButton","","pRipple","","type","button","icon","pi pi-window-maximize",1,"p-button-rounded","p-button-outlined",3,"pTooltip","click"]],template:function(e,t){if(1&e&&(d.Ob(0,"div",0,1),d.Ob(2,"div",2),d.Jb(3,"app-iframe",3),d.Nb(),d.Ob(4,"div",4),d.Ob(5,"div",5),d.Ob(6,"h5"),d.Ec(7,"P\xe1gina: "),d.Nb(),d.Ob(8,"p-dropdown",6),d.Vb("onChange",function(e){return t.onChange(e)})("ngModelChange",function(e){return t.selectedPage=e}),d.Nb(),d.Nb(),d.Ob(9,"div"),d.Cc(10,S,2,0,"ng-container",7),d.Cc(11,j,2,3,"ng-template",null,8,d.Dc),d.Nb(),d.Nb(),d.Nb()),2&e){var n=d.rc(12);d.xb(3),d.fc("page",t.selectedPage),d.xb(5),d.fc("options",t.pagesSelect)("ngModel",t.selectedPage)("showClear",!0),d.xb(2),d.fc("ngIf",t.fullScreen)("ngIfElse",n)}},directives:[P,w.a,k.j,k.l,u.j,N.b,M.a,I.a],pipes:[x.c],styles:[".web-view[_ngcontent-%COMP%]   .iframe[_ngcontent-%COMP%]{width:100%;height:68vh}.web-view[_ngcontent-%COMP%]:-webkit-full-screen{background-color:#fff}.web-view[_ngcontent-%COMP%]:fullscreen{background-color:#fff}.web-view[_ngcontent-%COMP%]:-webkit-full-screen   .iframe[_ngcontent-%COMP%]{width:100%;height:94.5vh}.web-view[_ngcontent-%COMP%]:fullscreen   .iframe[_ngcontent-%COMP%]{width:100%;height:94.5vh}.web-view[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{width:100%;justify-content:space-between}.dropdown[_ngcontent-%COMP%], .web-view[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{display:flex;position:relative;z-index:1}.dropdown[_ngcontent-%COMP%]{align-items:center}.dropdown[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0 5px 0 0}"]}),A),F=a("/RsI");function V(e,t){if(1&e&&(d.Ob(0,"p"),d.Ob(1,"span"),d.Ec(2,"Titulo: "),d.Nb(),d.Ec(3),d.Nb()),2&e){var n=d.Zb();d.xb(3),d.Gc(" ",n.oa_detail.title,"")}}function Z(e,t){if(1&e&&(d.Ob(0,"p"),d.Ob(1,"span"),d.Ec(2,"Autor: "),d.Nb(),d.Ec(3),d.Nb()),2&e){var n=d.Zb();d.xb(3),d.Gc(" ",n.oa_detail.author,"")}}function T(e,t){if(1&e&&(d.Ob(0,"p"),d.Ob(1,"span"),d.Ec(2,"Licencia: "),d.Nb(),d.Ec(3),d.Nb()),2&e){var n=d.Zb();d.xb(3),d.Gc(" ",n.oa_detail.license,"")}}function J(e,t){if(1&e&&(d.Ob(0,"p"),d.Ob(1,"span"),d.Ec(2,"Versi\xf3n: "),d.Nb(),d.Ec(3),d.Nb()),2&e){var n=d.Zb();d.xb(3),d.Gc(" ",n.oa_detail.version,"")}}function G(e,t){if(1&e){var n=d.Pb();d.Ob(0,"button",10),d.Vb("click",function(){return d.tc(n),d.Zb().displayResponsive=!1}),d.Nb(),d.Ob(1,"button",11),d.Vb("click",function(){return d.tc(n),d.Zb().descargar()}),d.Nb()}}var z,D,L=function(){return{width:"50vw"}},B=((z=function(){function t(n){e(this,t),this.learningObjectService=n,this.eventAdaptabilit=new d.n,this.checked1=!1,this.displayResponsive=!1}return n(t,[{key:"ngOnInit",value:function(){this.image=this.getValueCheck("image"),this.video=this.getValueCheck("video"),this.audio=this.getValueCheck("audio"),this.button=this.getValueCheck("button"),this.paragraph=this.getValueCheck("paragraph")}},{key:"getValueCheck",value:function(e){return this.config_adaptability.areas.includes(e)}},{key:"method",get:function(){return"handbook"===this.config_adaptability.method?"Manual":"automatic"===this.config_adaptability.method?"Automatica":"mixed"===this.config_adaptability.method?"Mixta":void 0}},{key:"onChangeButton",value:function(){}},{key:"emittEvent",value:function(){this.eventAdaptabilit.emit({image:this.image,video:this.video,audio:this.audio,paragraph:this.paragraph})}},{key:"showResponsiveDialog",value:function(){this.displayResponsive=!0}},{key:"descargar",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.learningObjectService.getDownloadFileZip(this.oa_id).subscribe(function(e){console.log(e),e&&(t.downloadFile(e.path),t.displayResponsive=!1)});case 2:case"end":return e.stop()}},e,this)}))}},{key:"downloadFile",value:function(e){console.log(e),window.open(e)}},{key:"onChangeImage",value:function(){this.emittEvent()}},{key:"onChangeVideo",value:function(){this.emittEvent()}},{key:"onChangeAudio",value:function(){this.emittEvent()}},{key:"onChangeParagraph",value:function(){this.emittEvent()}}]),t}()).\u0275fac=function(e){return new(e||z)(d.Ib(p.a))},z.\u0275cmp=d.Cb({type:z,selectors:[["app-oa-info"]],inputs:{oa_detail:"oa_detail",file_detail:"file_detail",config_adaptability:"config_adaptability",oa_id:"oa_id"},outputs:{eventAdaptabilit:"eventAdaptabilit"},decls:87,vars:21,consts:[[1,"content"],[4,"ngIf"],[1,"content-switch"],[1,"button"],["icon","pi pi-cloud-download","label","Descargar OA adaptado",3,"click"],["header","Informaci\xf3n de descarga",3,"visible","draggable","resizable","visibleChange"],[1,"text_description"],[2,"text-align","justify","color","black"],[2,"font-weight","bold","line-height","1.5"],["pTemplate","footer"],["pButton","","label","No","icon","pi pi-times",1,"p-button-danger",3,"click"],["pButton","","label","Descargar","styleClass","p-button-text","icon","pi pi-check",3,"click"]],template:function(e,t){1&e&&(d.Ob(0,"div",0),d.Ob(1,"h6"),d.Ec(2,"Informaci\xf3n del OA"),d.Nb(),d.Cc(3,V,4,1,"p",1),d.Cc(4,Z,4,1,"p",1),d.Cc(5,T,4,1,"p",1),d.Cc(6,J,4,1,"p",1),d.Ob(7,"h6"),d.Ec(8,"Informaci\xf3n del Archivo"),d.Nb(),d.Ob(9,"p"),d.Ob(10,"span"),d.Ec(11,"Paginas: "),d.Nb(),d.Ec(12),d.Nb(),d.Ob(13,"p"),d.Ob(14,"span"),d.Ec(15,"Imagenes: "),d.Nb(),d.Ec(16),d.Nb(),d.Ob(17,"p"),d.Ob(18,"span"),d.Ec(19,"Parrafos: "),d.Nb(),d.Ec(20),d.Nb(),d.Ob(21,"p"),d.Ob(22,"span"),d.Ec(23,"Videos: "),d.Nb(),d.Ec(24),d.Nb(),d.Ob(25,"p"),d.Ob(26,"span"),d.Ec(27,"Audios: "),d.Nb(),d.Ec(28),d.Nb(),d.Ob(29,"h6"),d.Ec(30,"Configuraci\xf3n de Adaptabilidad"),d.Nb(),d.Ob(31,"p"),d.Ob(32,"span"),d.Ec(33,"Tipo de adaptaci\xf3n: "),d.Nb(),d.Ec(34),d.Nb(),d.Ob(35,"div",2),d.Ob(36,"p"),d.Ob(37,"span"),d.Ec(38,"Bot\xf3n de adaptabilidad"),d.Nb(),d.Nb(),d.Nb(),d.Ob(39,"div",2),d.Ob(40,"p"),d.Ob(41,"span"),d.Ec(42,"Imagenes"),d.Nb(),d.Nb(),d.Nb(),d.Ob(43,"div",2),d.Ob(44,"p"),d.Ob(45,"span"),d.Ec(46,"Parrafos"),d.Nb(),d.Nb(),d.Nb(),d.Ob(47,"div",2),d.Ob(48,"p"),d.Ob(49,"span"),d.Ec(50,"Videos"),d.Nb(),d.Nb(),d.Nb(),d.Ob(51,"div",2),d.Ob(52,"p"),d.Ob(53,"span"),d.Ec(54,"Audios"),d.Nb(),d.Nb(),d.Nb(),d.Ob(55,"div",3),d.Ob(56,"p-button",4),d.Vb("click",function(){return t.showResponsiveDialog()}),d.Nb(),d.Ob(57,"p-dialog",5),d.Vb("visibleChange",function(e){return t.displayResponsive=e}),d.Ob(58,"div",6),d.Ob(59,"h6",7),d.Ec(60,"A continuaci\xf3n se muestra un resumen de los elementos que el sistema detecto para adaptar su objeto de aprendizaje: "),d.Nb(),d.Ob(61,"p"),d.Ob(62,"span",8),d.Ec(63,"P\xe1rrafos totales en el Objeto de Aprendizaje:"),d.Nb(),d.Jb(64,"br"),d.Ec(65),d.Nb(),d.Ob(66,"p"),d.Ob(67,"span",8),d.Ec(68,"Im\xe1genes totales en el Objeto de Aprendizaje:"),d.Nb(),d.Jb(69,"br"),d.Ec(70),d.Nb(),d.Ob(71,"p"),d.Ob(72,"span",8),d.Ec(73,"Audios totales en el Objeto de Aprendizaje:"),d.Nb(),d.Jb(74,"br"),d.Ec(75),d.Nb(),d.Ob(76,"p"),d.Ob(77,"span",8),d.Ec(78,"Videos totales en el Objeto de Aprendizaje:"),d.Nb(),d.Jb(79,"br"),d.Ec(80),d.Nb(),d.Ob(81,"p"),d.Ob(82,"span",8),d.Ec(83,"P\xe1ginas totales del Objeto de Aprendizaje:"),d.Nb(),d.Jb(84,"br"),d.Ec(85),d.Nb(),d.Nb(),d.Cc(86,G,2,0,"ng-template",9),d.Nb(),d.Nb(),d.Nb()),2&e&&(d.xb(3),d.fc("ngIf",t.oa_detail.title),d.xb(1),d.fc("ngIf",t.oa_detail.author),d.xb(1),d.fc("ngIf",t.oa_detail.license),d.xb(1),d.fc("ngIf",t.oa_detail.version),d.xb(6),d.Gc(" ",t.file_detail.pages,""),d.xb(4),d.Gc(" ",t.file_detail.images,""),d.xb(4),d.Gc(" ",t.file_detail.paragraphs,""),d.xb(4),d.Gc(" ",t.file_detail.videos,""),d.xb(4),d.Gc(" ",t.file_detail.audios,""),d.xb(6),d.Gc(" ",t.method,""),d.xb(23),d.Ac(d.hc(20,L)),d.fc("visible",t.displayResponsive)("draggable",!1)("resizable",!1),d.xb(8),d.Gc(" Se encontraron ",t.file_detail.paragraphs," p\xe1rrafos. "),d.xb(5),d.Gc(" Se encontraron ",t.file_detail.images," im\xe1genes. "),d.xb(5),d.Gc(" Se encontraron ",t.file_detail.audios," audios. "),d.xb(5),d.Gc(" Se encontraron ",t.file_detail.videos," videos. "),d.xb(5),d.Gc(" Se encontraron ",t.file_detail.pages," P\xe1ginas. "))},directives:[u.j,N.a,F.a,O.j,N.b],styles:[".content[_ngcontent-%COMP%]{padding:10px 0}.content[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-weight:700;color:var(--primary-color);margin:5px 0}.content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}.content[_ngcontent-%COMP%]   .content-switch[_ngcontent-%COMP%]{display:flex;align-items:center}.content[_ngcontent-%COMP%]   .content-switch[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0}.content[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{width:100%;text-align:center;margin-top:10px}.content[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-transform:uppercase}.text_description[_ngcontent-%COMP%]{text-align:justify}.text_description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:5px}"]}),z),q=a("jeV5"),U=a("ZKTo"),H=g.a.baseUrl,$=((D=function(){function t(n){e(this,t),this.http=n}return n(t,[{key:"getTagAdaptedByIdParagraph",value:function(e){return this.http.get("".concat(H,"/adapter/paragraph/").concat(e))}},{key:"createTagAdapted",value:function(e){var t=new FormData;return e.file&&t.append("file",e.file),t.append("text",e.text),t.append("html_text",e.html_text),t.append("tag_page_learning_object",e.tag_page_learning_object),this.http.post(H+"/adapter/paragraph/",t,{reportProgress:!1,observe:"events",responseType:"json"})}},{key:"updateTagAdapted",value:function(e,t){var n=new FormData;return e.file&&n.append("file",e.file),n.append("text",e.text),n.append("html_text",e.html_text),n.append("tag_page_learning_object",e.tag_page_learning_object),this.http.put("".concat(H,"/adapter/paragraph/").concat(t),n,{reportProgress:!1,observe:"events",responseType:"json"})}}]),t}()).\u0275fac=function(e){return new(e||D)(d.Sb(f.a))},D.\u0275prov=d.Eb({token:D,factory:D.\u0275fac,providedIn:"root"}),D),W=a("QIUk"),K=a("dts7"),Q=a("vKg+"),Y=a("mUB+"),X=a("kvL/"),ee=["recordPlayer"],te=["audioDownload"],ne=function(){return{width:"50px",height:"50px"}};function ie(e,t){1&e&&(d.Mb(0),d.Ob(1,"div",6),d.Jb(2,"p-progressSpinner",7),d.Nb(),d.Lb()),2&e&&(d.xb(2),d.Ac(d.hc(2,ne)))}function ae(e,t){1&e&&(d.Jb(0,"i",18),d.Ob(1,"span"),d.Ec(2,"Lectura f\xe1cil"),d.Nb())}function oe(e,t){1&e&&(d.Jb(0,"i",19),d.Ob(1,"span"),d.Ec(2,"Audio descriptivo"),d.Nb())}function re(e,t){if(1&e&&(d.Ob(0,"div",20),d.Ob(1,"p"),d.Ec(2,"Audio actual"),d.Nb(),d.Jb(3,"audio",21),d.Nb()),2&e){var n=d.Zb(3);d.xb(3),d.fc("src",n.paragraphAdapted.path_preview,d.wc)}}function ce(e,t){if(1&e){var n=d.Pb();d.Ob(0,"ngx-dropzone-preview",28),d.Vb("removed",function(){return d.tc(n),d.Zb(5).onRemove()}),d.Ob(1,"ngx-dropzone-label"),d.Ec(2),d.Nb(),d.Nb()}if(2&e){var i=d.Zb(5);d.fc("removable",!0)("file",i.file),d.xb(2),d.Fc(i.file.name)}}function se(e,t){if(1&e){var n=d.Pb();d.Ob(0,"ngx-dropzone",25),d.Vb("change",function(e){return d.tc(n),d.Zb(4).onSelect(e)}),d.Ob(1,"ngx-dropzone-label"),d.Ob(2,"h6"),d.Ec(3,"Arrastre o seleccione un archivo."),d.Nb(),d.Jb(4,"p-button",26),d.Nb(),d.Cc(5,ce,3,3,"ngx-dropzone-preview",27),d.Nb()}if(2&e){var i=d.Zb(4);d.xb(5),d.fc("ngIf",i.file)}}function ue(e,t){if(1&e){var n=d.Pb();d.Ob(0,"div",29),d.Ob(1,"button",30),d.Vb("click",function(){return d.tc(n),d.Zb(4).onCancelSelection()}),d.Nb(),d.Nb()}}function le(e,t){if(1&e&&(d.Ob(0,"div",22),d.Cc(1,se,6,1,"ngx-dropzone",23),d.Cc(2,ue,2,0,"div",24),d.Nb()),2&e){var n=d.Zb(3);d.xb(1),d.fc("ngIf",!n.loader),d.xb(1),d.fc("ngIf",n.file)}}function be(e,t){if(1&e){var n=d.Pb();d.Ob(0,"div",31),d.Ob(1,"span"),d.Ec(2,"O"),d.Nb(),d.Ob(3,"button",32),d.Vb("click",function(){return d.tc(n),d.Zb(3).onRecorAudio()}),d.Nb(),d.Nb()}}function de(e,t){if(1&e){var n=d.Pb();d.Ob(0,"button",39),d.Vb("click",function(){return d.tc(n),d.Zb(5).stopRecord()}),d.Nb()}}function pe(e,t){if(1&e&&(d.Ob(0,"div",40),d.Jb(1,"audio",41,42),d.ac(3,"blobsanitizer"),d.Jb(4,"a",43,44),d.Nb()),2&e){var n=d.Zb(5);d.xb(1),d.fc("src",d.bc(3,1,n.audioURL),d.wc)}}function ge(e,t){if(1&e){var n=d.Pb();d.Mb(0),d.Ob(1,"span"),d.Ec(2),d.Nb(),d.Ob(3,"div",35),d.Ob(4,"button",36),d.Vb("click",function(){return d.tc(n),d.Zb(4).record()}),d.Nb(),d.Cc(5,de,1,0,"button",37),d.Nb(),d.Cc(6,pe,6,3,"div",38),d.Lb()}if(2&e){var i=d.Zb(4);d.xb(2),d.Ic("",i.hourRecord,":",i.minRecord,":",i.secRecord,""),d.xb(2),d.fc("icon",i.rec?"pi pi-pause":"pi pi-play"),d.xb(1),d.fc("ngIf",i.recording),d.xb(1),d.fc("ngIf",i.audioURL)}}function fe(e,t){if(1&e&&(d.Ob(0,"p"),d.Ec(1),d.Nb()),2&e){var n=d.Zb(4);d.xb(1),d.Fc(n.permisText)}}function he(e,t){if(1&e){var n=d.Pb();d.Ob(0,"div",33),d.Cc(1,ge,7,6,"ng-container",4),d.Cc(2,fe,2,1,"ng-template",null,34,d.Dc),d.Ob(4,"div",29),d.Ob(5,"button",30),d.Vb("click",function(){return d.tc(n),d.Zb(3).onCancelSelection()}),d.Nb(),d.Nb(),d.Nb()}if(2&e){var i=d.rc(3),a=d.Zb(3);d.xb(1),d.fc("ngIf",a.permis)("ngIfElse",i)}}function ve(e,t){if(1&e){var n=d.Pb();d.Ob(0,"p-tabView",8),d.Ob(1,"p-tabPanel",9),d.Cc(2,ae,3,0,"ng-template",10),d.Ob(3,"angular-editor",11),d.Vb("ngModelChange",function(e){return d.tc(n),d.Zb(2).htmlContent=e}),d.Nb(),d.Nb(),d.Ob(4,"p-tabPanel",12),d.Cc(5,oe,3,0,"ng-template",10),d.Ob(6,"div",13),d.Cc(7,re,4,1,"div",14),d.Cc(8,le,3,2,"div",15),d.Cc(9,be,4,0,"div",16),d.Cc(10,he,6,2,"div",17),d.Nb(),d.Nb(),d.Nb()}if(2&e){var i=d.Zb(2);d.xb(3),d.fc("placeholder","Lectura f\xe1cil...")("ngModel",i.htmlContent)("config",i.editorConfig),d.xb(4),d.fc("ngIf",null==i.paragraphAdapted?null:i.paragraphAdapted.path_preview),d.xb(1),d.fc("ngIf",i.selectFile),d.xb(1),d.fc("ngIf",!i.file&&!i.recordAudio),d.xb(1),d.fc("ngIf",i.recordAudio)}}function me(e,t){if(1&e){var n=d.Pb();d.Ob(0,"div",2),d.Ob(1,"p-messages",3),d.Vb("valueChange",function(e){return d.tc(n),d.Zb().messges=e}),d.Nb(),d.Cc(2,ie,3,3,"ng-container",4),d.Cc(3,ve,11,7,"ng-template",null,5,d.Dc),d.Nb()}if(2&e){var i=d.rc(4),a=d.Zb();d.xb(1),d.fc("value",a.messges)("enableService",!1),d.xb(1),d.fc("ngIf",a.loaderAdapted)("ngIfElse",i)}}function Oe(e,t){if(1&e){var n=d.Pb();d.Mb(0),d.Ob(1,"p-button",47),d.Vb("click",function(){return d.tc(n),d.Zb(2).onSave()}),d.Nb(),d.Ob(2,"button",48),d.Vb("click",function(){return d.tc(n),d.Zb(2).edit=!1}),d.Nb(),d.Lb()}if(2&e){var i=d.Zb(2);d.xb(1),d.fc("disabled",!i.htmlContent&&!i.fileRecord&&!i.file||i.updateParagraph)("label",i.updateParagraph?"Guardando...":"Guardar")("loading",i.updateParagraph)}}function Ce(e,t){if(1&e){var n=d.Pb();d.Ob(0,"p-button",49),d.Vb("click",function(){return d.tc(n),d.Zb(2).editParagraph()}),d.Nb()}if(2&e){var i=d.Zb(2);d.fc("loading",i.updateParagraph)}}function xe(e,t){if(1&e&&(d.Ob(0,"div",45),d.Cc(1,Oe,3,3,"ng-container",4),d.Cc(2,Ce,1,1,"ng-template",null,46,d.Dc),d.Nb()),2&e){var n=d.rc(3),i=d.Zb();d.xb(1),d.fc("ngIf",i.edit)("ngIfElse",n)}}var _e,ye=function(){return{"margin-bottom":"2em"}},Pe=((_e=function(){function t(n,i,a,o){e(this,t),this.audioRecorderService=n,this.paragraphService=i,this.messageService=a,this.eventService=o,this.edit=!1,this.selectFile=!0,this.recordAudio=!1,this.hourRecord=0,this.minRecord=0,this.secRecord=0,this.rec=!1,this.recording=!1,this.permis=!0,this.loaderAdapted=!1,this.updateParagraph=!1,this.editorConfig={editable:!0,spellcheck:!0,height:"150px",minHeight:"150px",maxHeight:"auto",width:"auto",minWidth:"0",translate:"yes",enableToolbar:!1,showToolbar:!0,placeholder:"Enter text here...",defaultParagraphSeparator:"",defaultFontName:"",defaultFontSize:"",fonts:[{class:"arial",name:"Arial"},{class:"times-new-roman",name:"Times New Roman"},{class:"calibri",name:"Calibri"},{class:"comic-sans-ms",name:"Comic Sans MS"}],toolbarHiddenButtons:[["bold","italic","underline","strikeThrough","subscript","superscript","justifyLeft","justifyCenter","justifyRight","justifyFull","indent","outdent","insertUnorderedList","insertOrderedList","heading","fontName"],["fontSize","textColor","backgroundColor","customClasses","link","unlink","insertImage","insertVideo","insertHorizontalRule","removeFormat","toggleEditorMode"]]},this.audioRecorderService.recorderError.subscribe(function(e){})}return n(t,[{key:"ngOnInit",value:function(){}},{key:"onSave",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.messges=[],this.updateParagraph=!0,!(this.htmlContent||this.file||this.fileRecord)){e.next=9;break}if(t={text:this.htmlContent||"",html_text:this.htmlContent?"<p>".concat(this.htmlContent,"</p>"):"",tag_page_learning_object:this.paragraph.id,file:this.file||this.fileRecord},!this.paragraphAdapted){e.next=7;break}return e.next=5,this.paragraphService.updateTagAdapted(t,this.paragraphAdapted.id).subscribe(function(e){n.paragraphAdapted=e.body,n.updateParagraph=!1,n.onCancelSelection(),n.fileRecord=void 0,n.messges.length<=0&&(n.messges.push({severity:"success",detail:"Se ha editado el texto y el audio de ayuda al Objeto de Aprendizaje."}),n.eventService.emitEvent(!0))},function(e){console.log(e),n.messges.push({severity:"error",summary:"Error",detail:e})});case 5:e.next=9;break;case 7:return e.next=9,this.paragraphService.createTagAdapted(t).subscribe(function(e){n.paragraphAdapted=e.body,n.updateParagraph=!1,n.onCancelSelection(),n.fileRecord=void 0,n.messges.length<=0&&(n.messges.push({severity:"success",detail:"Se ha agregado el texto y el audio de ayuda al Objeto de Aprendizaje."}),n.eventService.emitEvent(!0))},function(e){n.messges.push({severity:"error",summary:"Error",detail:e}),console.log(e)});case 9:case"end":return e.stop()}},e,this)}))}},{key:"onSelect",value:function(e){this.selectFile=!0,this.file=e.addedFiles[0]}},{key:"onRemove",value:function(){this.file=void 0}},{key:"onRecorAudio",value:function(){this.selectFile=!1,this.recordAudio=!0}},{key:"onCancelSelection",value:function(){this.selectFile=!0,this.recordAudio=!1,this.recording=!1,this.onRemove()}},{key:"record",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.rec=!this.rec,this.recording?this.rec?this.audioRecorderService.resume():this.audioRecorderService.pause():(this.recording=!0,this.audioURL=void 0,this.secRecord=0,this.minRecord=0,this.hourRecord=0,this.audioRecorderService.startRecording(),this.interval=setInterval(function(){U.d.PAUSED!=t.audioRecorderService.getRecorderState()&&(t.secRecord+=1,60===t.secRecord&&(t.secRecord=0,t.minRecord+=1),60===t.minRecord&&(t.minRecord=0,t.hourRecord+=1),24===t.hourRecord&&t.stopRecord())},1e3));case 1:case"end":return e.stop()}},e,this)}))}},{key:"stopRecord",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:clearInterval(this.interval),this.audioRecorderService.stopRecording(U.c.WEBM_BLOB_URL).then(function(e){return Object(b.a)(t,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.rec=!1,this.recording=!1,this.audioURL=e,t.next=5,this.transforBlob(e);case 5:this.fileRecord=t.sent;case 6:case"end":return t.stop()}},t,this)}))}).catch(function(e){console.log(e)});case 1:case"end":return e.stop()}},e,this)}))}},{key:"transforBlob",value:function(e){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e);case 3:return n=t.sent,t.next=6,n.blob();case 6:return i=t.sent,t.abrupt("return",new File([i],"audio/mp3",{type:i.type}));case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}},t,null,[[0,10]])}))}},{key:"editParagraph",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.edit=!this.edit,e.t0=this.edit,!e.t0){e.next=6;break}return this.loaderAdapted=!0,e.next=6,this.paragraphService.getTagAdaptedByIdParagraph(this.paragraph.id).subscribe(function(e){t.paragraphAdapted=e,t.loaderAdapted=!1,t.htmlContent=e.text},function(e){t.loaderAdapted=!1});case 6:case"end":return e.stop()}},e,this)}))}}]),t}()).\u0275fac=function(e){return new(e||_e)(d.Ib(U.b),d.Ib($),d.Ib(O.h),d.Ib(C))},_e.\u0275cmp=d.Cb({type:_e,selectors:[["app-paragraph"]],viewQuery:function(e,t){var n;1&e&&(d.Kc(ee,!0),d.Kc(te,!0)),2&e&&(d.qc(n=d.Wb())&&(t.recordPlayer=n.first),d.qc(n=d.Wb())&&(t.audioDownload=n.first))},inputs:{paragraph:"paragraph"},decls:5,vars:5,consts:[["class","editor",4,"ngIf"],["pTemplate","footer"],[1,"editor"],[3,"value","enableService","valueChange"],[4,"ngIf","ngIfElse"],["loaderTemplate",""],[1,"spinn"],["styleClass","custom-spinner","strokeWidth","8","fill","#EEEEEE","animationDuration",".5s"],["styleClass","webview-container"],["header","Lectura f\xe1cil"],["pTemplate","header"],[3,"placeholder","ngModel","config","ngModelChange"],["header","Audio descriptivo"],[1,"audio-content"],["class","default-audio",4,"ngIf"],["class","select-audio",4,"ngIf"],["class","or-selectction",4,"ngIf"],["class","record-audio",4,"ngIf"],[1,"pi","pi-pencil"],[1,"pi","pi-volume-up"],[1,"default-audio"],["controls","","preload","none",1,"audio","audio-EACPBHCv",3,"src"],[1,"select-audio"],["class","dropzone","accept"," audio/*",3,"change",4,"ngIf"],["class","buttons",4,"ngIf"],["accept"," audio/*",1,"dropzone",3,"change"],["label","Seleccionar archivo","icon","pi pi-cloud-upload","styleClass","p-button"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"removable","file","removed",4,"ngIf"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"removable","file","removed"],[1,"buttons"],["pButton","","pRipple","","type","button","icon","pi pi-times","label","Cancelar",1,"p-button-danger",3,"click"],[1,"or-selectction"],["id","audio-recor","pButton","","pRipple","","type","button","label","Grabe un audio",1,"p-button-text",3,"click"],[1,"record-audio"],["parmisTemplate",""],[1,"buttons-record"],["pButton","","pRipple","","type","button",1,"p-button-rounded","p-button-danger","p-button-outlined",3,"icon","click"],["pButton","","pRipple","","type","button","icon","pi pi-check","class","p-button-rounded p-button-success p-button-outlined",3,"click",4,"ngIf"],["class","record-player",4,"ngIf"],["pButton","","pRipple","","type","button","icon","pi pi-check",1,"p-button-rounded","p-button-success","p-button-outlined",3,"click"],[1,"record-player"],["id","recordPlayer","controls","","preload","none",1,"audio",3,"src"],["recordPlayer",""],["id","audioDownload","pButton","","pRipple","","type","button","icon","pi pi-download",1,"p-button-rounded","p-button-primary","p-button-outlined"],["audioDownload",""],[1,"footer-buttons"],["buttonTemplate",""],["icon","pi pi-check",3,"disabled","label","loading","click"],["pButton","","pRipple","","type","button","icon","pi pi-times","label","Cerrar",1,"p-button-danger",3,"click"],["label","Editar","icon","pi pi-check",3,"loading","click"]],template:function(e,t){1&e&&(d.Ob(0,"p-card"),d.Ob(1,"p"),d.Ec(2),d.Nb(),d.Cc(3,me,5,4,"div",0),d.Cc(4,xe,4,2,"ng-template",1),d.Nb()),2&e&&(d.Ac(d.hc(4,ye)),d.xb(2),d.Fc(t.paragraph.text),d.xb(1),d.fc("ngIf",t.edit))},directives:[W.a,u.j,O.j,K.a,Q.a,m.b,m.a,Y.a,k.j,k.l,X.a,X.d,N.a,X.c,N.b,M.a],styles:[".spinn[_ngcontent-%COMP%]{display:flex;justify-content:center}.audio-content[_ngcontent-%COMP%]{text-align:center}.audio-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:2px 0}.audio-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.2em;font-weight:700}.audio-content[_ngcontent-%COMP%]   .or-selectction[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:10px 0}.audio-content[_ngcontent-%COMP%]   .or-selectction[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:5px 0}.audio-content[_ngcontent-%COMP%]   .select-audio[_ngcontent-%COMP%]{margin:10px 0}.audio-content[_ngcontent-%COMP%]   .select-audio[_ngcontent-%COMP%]   .dropzone[_ngcontent-%COMP%]{height:100px}.audio-content[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px}.audio-content[_ngcontent-%COMP%]   .record-audio[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.audio-content[_ngcontent-%COMP%]   .record-audio[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:10px 0;display:block}.audio-content[_ngcontent-%COMP%]   .record-audio[_ngcontent-%COMP%]   .buttons-record[_ngcontent-%COMP%]{margin:10px 0}.audio-content[_ngcontent-%COMP%]   .record-audio[_ngcontent-%COMP%]   .buttons-record[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px}.audio-content[_ngcontent-%COMP%]   .record-audio[_ngcontent-%COMP%]   .record-player[_ngcontent-%COMP%]{display:flex;align-items:center}.audio-content[_ngcontent-%COMP%]   .record-audio[_ngcontent-%COMP%]   .record-player[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:5px}.audio-content[_ngcontent-%COMP%]   .default-audio[_ngcontent-%COMP%]{margin:10px 0}.footer-buttons[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]{margin-right:10px}"]}),_e);function we(e,t){if(1&e&&(d.Ob(0,"div",2),d.Jb(1,"app-paragraph",3),d.Nb()),2&e){var n=t.$implicit;d.xb(1),d.fc("paragraph",n)}}var ke,Ne=((ke=function(){function t(){e(this,t)}return n(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(e){return new(e||ke)},ke.\u0275cmp=d.Cb({type:ke,selectors:[["app-paragraph-content"]],inputs:{paragraphs:"paragraphs"},decls:2,vars:1,consts:[[1,"p-grid"],["class","p-col-12 p-md-6 p-lg-4",4,"ngFor","ngForOf"],[1,"p-col-12","p-md-6","p-lg-4"],[3,"paragraph"]],template:function(e,t){1&e&&(d.Ob(0,"div",0),d.Cc(1,we,2,1,"div",1),d.Nb()),2&e&&(d.xb(1),d.fc("ngForOf",t.paragraphs))},directives:[u.i,Pe],styles:[".p-grid[_ngcontent-%COMP%]{margin-top:10px}"]}),ke),Me=a("7kUa");function Ie(e,t){if(1&e&&(d.Ob(0,"div",5),d.Ob(1,"p"),d.Ec(2),d.Nb(),d.Nb()),2&e){var n=d.Zb();d.xb(2),d.Gc(" ",n.item.text,"")}}function Ee(e,t){if(1&e&&(d.Ob(0,"form",6),d.Jb(1,"input",7),d.Nb()),2&e){var n=d.Zb();d.fc("formGroup",n.angForm),d.xb(1),d.gc("formControlName",n.item.id)}}function Se(e,t){if(1&e){var n=d.Pb();d.Mb(0,10),d.Ob(1,"div",11),d.Ob(2,"p-button",12),d.Vb("click",function(){d.tc(n);var e=d.Zb(2);return e.onSave(e.item.id)}),d.Nb(),d.Nb(),d.Ob(3,"div",13),d.Ob(4,"button",14),d.Vb("click",function(){d.tc(n);var e=d.Zb(2);return e.cancel(e.item.id)}),d.Nb(),d.Nb(),d.Lb()}}function je(e,t){if(1&e){var n=d.Pb();d.Ob(0,"p-button",15),d.Vb("click",function(){d.tc(n);var e=d.Zb(2);return e.cliclEdit(e.item.id,e.item.text)}),d.Nb()}}function Ae(e,t){if(1&e&&(d.Cc(0,Se,5,0,"ng-container",8),d.Cc(1,je,1,0,"ng-template",null,9,d.Dc)),2&e){var n=d.rc(2),i=d.Zb();d.fc("ngIf",i.edit)("ngIfElse",n)}}var Re,Fe=function(){return{"margin-bottom":"2em"}},Ve=((Re=function(){function t(n,i,a){e(this,t),this.learning_ObjectService=n,this.fb=i,this.messageServicee=a,this.edit=!1,this.createForm()}return n(t,[{key:"ngOnInit",value:function(){this.angForm.addControl(this.item.id,new k.c(this.item.text))}},{key:"createForm",value:function(){this.angForm=this.fb.group({})}},{key:"onSave",value:function(e){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,i=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.angForm.get(e.toString()).value,this.answers={text:n},t.next=4,this.learning_ObjectService.updateImage(this.answers,e).subscribe(function(t){t&&(i.showSuccess("Los datos se actualizaron con exito"),i.item.text=t.text,i.angForm.controls[e.toString()].setValue(n),i.edit=!1)},function(t){304==t.status&&(i.showError("Datos no modificados"),i.item.text=i.textAux,i.angForm.controls[e.toString()].setValue(i.textAux),i.edit=!1)});case 4:case"end":return t.stop()}},t,this)}))}},{key:"cliclEdit",value:function(e,t){this.edit=!0,this.textAux=t}},{key:"cancel",value:function(e){this.edit=!1,this.angForm.controls[e.toString()].setValue(this.textAux)}},{key:"showError",value:function(e){this.messageServicee.add({severity:"error",summary:"Error",detail:e})}},{key:"showSuccess",value:function(e){this.messageServicee.add({severity:"success",summary:"Success",detail:e})}}]),t}()).\u0275fac=function(e){return new(e||Re)(d.Ib(p.a),d.Ib(k.b),d.Ib(O.h))},Re.\u0275cmp=d.Cb({type:Re,selectors:[["app-image"]],inputs:{item:"item"},decls:9,vars:6,consts:[[1,"image-content"],["alt","",3,"src"],["class","text-description",4,"ngIf"],["action","","id","formAdapte",3,"formGroup",4,"ngIf"],["pTemplate","footer","class","container-buttons"],[1,"text-description"],["action","","id","formAdapte",3,"formGroup"],["type","text","pInputText","",2,"width","100%",3,"formControlName"],["class","container-buttons",4,"ngIf","ngIfElse"],["buttonTemplate",""],[1,"container-buttons"],[1,"btn-sucessfull"],["label","Guardar","icon","pi pi-check",3,"click"],[1,"btn-cancel"],["pButton","","pRipple","","type","button","label","Cancelar","icon","pi pi-times",1,"p-button-danger",3,"click"],["label","Editar","icon","pi pi-check",3,"click"]],template:function(e,t){1&e&&(d.Ob(0,"p-card"),d.Ob(1,"div",0),d.Jb(2,"img",1),d.Nb(),d.Ob(3,"h6"),d.Ec(4,"Descripcion alt de la imagen :"),d.Nb(),d.Cc(5,Ie,3,1,"div",2),d.Cc(6,Ee,2,2,"form",3),d.Jb(7,"p-messages"),d.Cc(8,Ae,3,2,"ng-template",4),d.Nb()),2&e&&(d.Ac(d.hc(5,Fe)),d.xb(2),d.gc("src",t.item.link,d.wc),d.xb(3),d.fc("ngIf",!t.edit),d.xb(1),d.fc("ngIf",t.edit))},directives:[W.a,u.j,K.a,O.j,k.o,k.k,k.e,k.a,Me.a,k.j,k.d,N.a,N.b,M.a],styles:[".image-content[_ngcontent-%COMP%]{width:100%;height:25vh;display:flex;justify-content:center}.image-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}#formAdapte[_ngcontent-%COMP%], .audio-content[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{text-align:center}.audio-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:2px 0}.audio-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.2em;font-weight:700}.audio-content[_ngcontent-%COMP%]   .or-selectction[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:10px 0}.audio-content[_ngcontent-%COMP%]   .or-selectction[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:5px 0}.audio-content[_ngcontent-%COMP%]   .select-audio[_ngcontent-%COMP%]{margin:10px 0}.audio-content[_ngcontent-%COMP%]   .select-audio[_ngcontent-%COMP%]   .dropzone[_ngcontent-%COMP%]{height:100px}.audio-content[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px}.audio-content[_ngcontent-%COMP%]   .record-audio[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.audio-content[_ngcontent-%COMP%]   .record-audio[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:10px 0;display:block}.audio-content[_ngcontent-%COMP%]   .record-audio[_ngcontent-%COMP%]   .buttons-record[_ngcontent-%COMP%]{margin:10px 0}.audio-content[_ngcontent-%COMP%]   .record-audio[_ngcontent-%COMP%]   .buttons-record[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px}.audio-content[_ngcontent-%COMP%]   .record-audio[_ngcontent-%COMP%]   .record-player[_ngcontent-%COMP%]{display:flex;align-items:center}.audio-content[_ngcontent-%COMP%]   .record-audio[_ngcontent-%COMP%]   .record-player[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:5px}.btn-cancel[_ngcontent-%COMP%], .btn-sucessfull[_ngcontent-%COMP%]{margin:2px}[_nghost-%COMP%]     .p-card .p-card-footer{display:flex}.text-description[_ngcontent-%COMP%]{text-align:center}"]}),Re);function Ze(e,t){if(1&e&&(d.Ob(0,"div",2),d.Jb(1,"app-image",3),d.Nb()),2&e){var n=t.$implicit;d.xb(1),d.fc("item",n)}}var Te,Je=((Te=function(){function t(){e(this,t)}return n(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(e){return new(e||Te)},Te.\u0275cmp=d.Cb({type:Te,selectors:[["app-image-content"]],inputs:{imagesGroup:"imagesGroup"},decls:2,vars:1,consts:[[1,"p-grid"],["class","p-col-12 p-md-6 p-lg-4",4,"ngFor","ngForOf"],[1,"p-col-12","p-md-6","p-lg-4"],[3,"item"]],template:function(e,t){1&e&&(d.Ob(0,"div",0),d.Cc(1,Ze,2,1,"div",1),d.Nb()),2&e&&(d.xb(1),d.fc("ngForOf",t.imagesGroup))},directives:[u.i,Ve],styles:[""]}),Te),Ge=a("zFJ7"),ze=a("+DzE");function De(e,t){if(1&e&&(d.Ob(0,"div",6),d.Jb(1,"audio",7),d.Nb()),2&e){var n=t.$implicit;d.xb(1),d.gc("src",n.path_src,d.wc)}}function Le(e,t){if(1&e&&(d.Ob(0,"div",8),d.Ob(1,"p"),d.Ec(2),d.Nb(),d.Nb()),2&e){var n=d.Zb();d.xb(2),d.Fc(n.item.text)}}function Be(e,t){if(1&e){var n=d.Pb();d.Ob(0,"div",14),d.Ob(1,"p-button",16),d.Vb("click",function(){return d.tc(n),d.Zb(2).actualizar()}),d.Nb(),d.Nb()}}function qe(e,t){if(1&e){var n=d.Pb();d.Ob(0,"div",14),d.Ob(1,"p-button",17),d.Vb("click",function(){return d.tc(n),d.Zb(2).createAudios()}),d.Nb(),d.Nb()}}function Ue(e,t){if(1&e){var n=d.Pb();d.Ob(0,"div",9),d.Ob(1,"textarea",10),d.Vb("ngModelChange",function(e){return d.tc(n),d.Zb().textEdit=e}),d.Nb(),d.Ob(2,"div",11),d.Mb(3,12),d.Cc(4,Be,2,0,"div",13),d.Cc(5,qe,2,0,"div",13),d.Ob(6,"div",14),d.Ob(7,"button",15),d.Vb("click",function(){d.tc(n);var e=d.Zb();return e.cancel(e.item.text)}),d.Nb(),d.Nb(),d.Lb(),d.Nb(),d.Nb()}if(2&e){var i=d.Zb();d.xb(1),d.fc("ngModel",i.textEdit),d.xb(3),d.fc("ngIf",!i.cliclEdit(i.item.text)),d.xb(1),d.fc("ngIf",i.cliclEdit(i.item.text))}}function He(e,t){if(1&e){var n=d.Pb();d.Mb(0,12),d.Ob(1,"div",14),d.Ob(2,"button",20),d.Vb("click",function(){d.tc(n);var e=d.Zb(2);return e.generarTexto(e.item)}),d.Nb(),d.Nb(),d.Ob(3,"div",14),d.Ob(4,"p-button",21),d.Vb("click",function(){return d.tc(n),d.Zb(2).createText()}),d.Nb(),d.Nb(),d.Lb()}if(2&e){var i=d.Zb(2);d.xb(2),d.fc("disabled",i.generate_text),d.xb(2),d.fc("disabled",i.generate_text)}}function $e(e,t){if(1&e){var n=d.Pb();d.Mb(0),d.Ob(1,"div",14),d.Ob(2,"p-button",22),d.Vb("click",function(){return d.tc(n),d.Zb(2).editar()}),d.Nb(),d.Nb(),d.Lb()}}function We(e,t){if(1&e&&(d.Cc(0,He,5,2,"ng-container",18),d.Cc(1,$e,3,0,"ng-container",19)),2&e){var n=d.Zb();d.fc("ngIf",n.cliclEdit(n.item.text)&&!n.editTextArea),d.xb(1),d.fc("ngIf",!n.cliclEdit(n.item.text)&&!n.editTextArea)}}var Ke=function(){return{height:"6px"}};function Qe(e,t){1&e&&(d.Ob(0,"div",23),d.Jb(1,"p-progressBar",24),d.Ob(2,"p"),d.Ec(3,"Generando texto descriptivo ..."),d.Nb(),d.Nb()),2&e&&(d.xb(1),d.Ac(d.hc(2,Ke)))}var Ye,Xe=function(){return{"margin-bottom":"2em"}},et=((Ye=function(){function t(n,i){e(this,t),this.learningObjectService=n,this.messageServicee=i,this.edit=!1,this.editTextArea=!1,this.generate_text=!1}return n(t,[{key:"ngOnInit",value:function(){this.textEdit=this.item.text}},{key:"cliclEdit",value:function(e){return this.edit=null==e}},{key:"generarTexto",value:function(e){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.generate_text=!0,console.log(e.attributes[0].path_src),this.answers={tag_page_learning_object:e.id,type:"audio",html_text:e.html_text,id_ref:e.id_class_ref,method:"automatic",path_src:e.attributes[0].path_src,path_system:e.attributes[0].path_system},t.next=5,this.learningObjectService.sentCreateAudio(this.answers).subscribe(function(e){console.log("respuesta"+e),e&&(n.showSuccess("Se genero la descripci\xf3n del audio con exito"),n.editTextArea=!1,n.textEdit=e.text,n.item.text=n.textEdit,n.generate_text=!1)},function(e){n.showError("Error al generar la descripci\xf3n")});case 5:case"end":return t.stop()}},t,this)}))}},{key:"editar",value:function(){this.editTextArea=!0}},{key:"cancel",value:function(e){this.editTextArea=!1,this.textEdit=e}},{key:"createText",value:function(){this.editTextArea=!0}},{key:"actualizar",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.answers={text:this.textEdit},e.next=3,this.learningObjectService.updateAudio(this.answers,this.item.id).subscribe(function(e){e&&(t.textEdit=e.text,t.showSuccess("Los datos se actualizaron con exito"),t.editTextArea=!1,t.item.text=t.textEdit)},function(e){304==e.status&&t.showError("Datos no modificados")});case 3:case"end":return e.stop()}},e,this)}))}},{key:"createAudios",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.answers={text:this.textEdit,tag_page_learning_object:this.item.id,type:"audio",html_text:this.item.html_text,id_ref:this.item.id_class_ref,method:"create"},e.next=3,this.learningObjectService.sentCreateAudio(this.answers).subscribe(function(e){e&&(t.textEdit=e.text,t.showSuccess("Los datos se agregaron con exito"),t.editTextArea=!1,t.edit=!0,t.item.text=e.text)},function(e){t.showError("Error al guardar los datos")});case 3:case"end":return e.stop()}},e,this)}))}},{key:"showError",value:function(e){this.messageServicee.add({severity:"error",summary:"Error",detail:e})}},{key:"showSuccess",value:function(e){this.messageServicee.add({severity:"success",summary:"Success",detail:e})}}]),t}()).\u0275fac=function(e){return new(e||Ye)(d.Ib(p.a),d.Ib(O.h))},Ye.\u0275cmp=d.Cb({type:Ye,selectors:[["app-audio"]],inputs:{item:"item"},decls:10,vars:7,consts:[["class","audio_src",4,"ngFor","ngForOf"],[1,"view_text"],["class","view_text_p",4,"ngIf"],["class","container-edit",4,"ngIf"],["pTemplate","footer","class","container-buttons"],["class","progress_bar",4,"ngIf"],[1,"audio_src"],["controls","","preload","none",1,"audio",3,"src"],[1,"view_text_p"],[1,"container-edit"],["rows","5","cols","30","pInputTextarea","",3,"ngModel","ngModelChange"],[1,"bnt-edit"],[1,"container-but"],["class","btn-sucessfull",4,"ngIf"],[1,"btn-sucessfull"],["pButton","","pRipple","","type","button","label","Cancelar","icon","pi pi-times",1,"p-button-danger",3,"click"],["label","Actualizar","icon","pi pi-check",3,"click"],["label","Crear","icon","pi pi-save",3,"click"],["class","container-but",4,"ngIf"],[4,"ngIf"],["pButton","","pRipple","","type","button","label","Generar texto","icon","pi pi-save",1,"p-button-success",3,"disabled","click"],["label","Crear","icon","pi pi-check",3,"disabled","click"],["label","Editar","icon","pi pi-pencil",3,"click"],[1,"progress_bar"],["mode","indeterminate"]],template:function(e,t){1&e&&(d.Ob(0,"p-card"),d.Cc(1,De,2,1,"div",0),d.Ob(2,"div",1),d.Ob(3,"h6"),d.Ec(4,"Descripci\xf3n de audio:"),d.Nb(),d.Cc(5,Le,3,1,"div",2),d.Nb(),d.Jb(6,"p-messages"),d.Cc(7,Ue,8,3,"div",3),d.Cc(8,We,2,2,"ng-template",4),d.Cc(9,Qe,4,3,"div",5),d.Nb()),2&e&&(d.Ac(d.hc(6,Xe)),d.xb(1),d.fc("ngForOf",t.item.attributes),d.xb(4),d.fc("ngIf",!t.editTextArea),d.xb(2),d.fc("ngIf",t.editTextArea),d.xb(2),d.fc("ngIf",t.generate_text))},directives:[W.a,u.i,u.j,K.a,O.j,k.a,Ge.a,k.j,k.l,N.b,M.a,N.a,ze.a],styles:["[_nghost-%COMP%]     .p-card .p-card-footer{display:flex}.btn-sucessfull[_ngcontent-%COMP%]{margin:5px}textarea[_ngcontent-%COMP%]{width:100%}.bnt-edit[_ngcontent-%COMP%]{display:flex}.audio_src[_ngcontent-%COMP%]   audio[_ngcontent-%COMP%]{width:100%}.view_text[_ngcontent-%COMP%]{padding-top:5px}.view_text[_ngcontent-%COMP%]   .view_text_p[_ngcontent-%COMP%]{width:100%;max-height:100px;overflow-y:auto}.progress_bar[_ngcontent-%COMP%]{text-align:center}.progress_bar[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:grey}"]}),Ye);function tt(e,t){if(1&e&&(d.Ob(0,"div",2),d.Jb(1,"app-audio",3),d.Nb()),2&e){var n=t.$implicit;d.xb(1),d.fc("item",n)}}var nt,it,at=((nt=function(){function t(){e(this,t)}return n(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(e){return new(e||nt)},nt.\u0275cmp=d.Cb({type:nt,selectors:[["app-audio-content"]],inputs:{audiosGroup:"audiosGroup",nFoundAudio:"nFoundAudio"},decls:2,vars:1,consts:[[1,"p-grid"],["class","p-col-12 p-md-6 p-lg-4",4,"ngFor","ngForOf"],[1,"p-col-12","p-md-6","p-lg-4"],[3,"item"]],template:function(e,t){1&e&&(d.Ob(0,"div",0),d.Cc(1,tt,2,1,"div",1),d.Nb()),2&e&&(d.xb(1),d.fc("ngForOf",t.audiosGroup))},directives:[u.i,et],styles:[""]}),nt),ot=g.a.baseUrl,rt=((it=function(){function t(n){e(this,t),this.http=n}return n(t,[{key:"getVidoTranscript",value:function(e){return this.http.get("".concat(ot,"/adapter/gettranscript/").concat(e))}},{key:"generateAutomaticTranscript",value:function(e){return this.http.post("".concat(ot,"/adapter/video/subtitle/generate/").concat(e),{reportProgress:!0,observe:"events",responseType:"json"})}}]),t}()).\u0275fac=function(e){return new(e||it)(d.Sb(f.a))},it.\u0275prov=d.Eb({token:it,factory:it.\u0275fac,providedIn:"root"}),it);function ct(e,t){1&e&&(d.Ob(0,"p"),d.Ec(1,"Este v\xeddeo no tiene con subt\xedtulos"),d.Nb())}function st(e,t){if(1&e){var n=d.Pb();d.Ob(0,"p-messages",9),d.Vb("valueChange",function(e){return d.tc(n),d.Zb().messages=e}),d.Nb()}if(2&e){var i=d.Zb();d.fc("value",i.messages)("enableService",!1)}}function ut(e,t){if(1&e){var n=d.Pb();d.Ob(0,"li"),d.Ob(1,"div",12),d.Ob(2,"p"),d.Ec(3,"Idiaoma: "),d.Nb(),d.Ob(4,"span"),d.Ec(5),d.Nb(),d.Jb(6,"br"),d.Ob(7,"span"),d.Ec(8),d.Nb(),d.Nb(),d.Ob(9,"p-button",13),d.Vb("click",function(){d.tc(n);var e=t.$implicit;return d.Zb(2).jsonToString(e.id)}),d.Nb(),d.Nb()}if(2&e){var i=t.$implicit;d.xb(5),d.Hc("",i.label," - ",i.srclang,""),d.xb(3),d.Fc(i.source)}}function lt(e,t){if(1&e&&(d.Ob(0,"div",10),d.Ob(1,"h5"),d.Ec(2,"Subtitulos"),d.Nb(),d.Ob(3,"ul"),d.Cc(4,ut,10,3,"li",11),d.Nb(),d.Nb()),2&e){var n=d.Zb();d.xb(4),d.fc("ngForOf",n.transcript)}}var bt=function(){return{width:"50px",height:"50px"}};function dt(e,t){if(1&e&&(d.Mb(0),d.Ob(1,"div",17),d.Jb(2,"p-progressSpinner",18),d.Ob(3,"p"),d.Ec(4),d.Nb(),d.Nb(),d.Lb()),2&e){var n=d.Zb(2);d.xb(2),d.Ac(d.hc(3,bt)),d.xb(2),d.Gc("",n.loaderGenerateSubtitle?"Generando":"Cargando"," subt\xedtulos por favor espere...")}}function pt(e,t){if(1&e){var n=d.Pb();d.Ob(0,"p-button",20),d.Vb("onClick",function(){return d.tc(n),d.Zb(3).onGenerateSubtitle()}),d.Nb()}}function gt(e,t){if(1&e&&d.Cc(0,pt,1,0,"p-button",19),2&e){var n=d.Zb(2);d.fc("ngIf",(null==n.transcript?null:n.transcript.length)<=0)}}function ft(e,t){if(1&e&&(d.Ob(0,"div",14),d.Ob(1,"div",15),d.Cc(2,dt,5,4,"ng-container",7),d.Cc(3,gt,1,1,"ng-template",null,16,d.Dc),d.Nb(),d.Nb()),2&e){var n=d.rc(4),i=d.Zb();d.xb(2),d.fc("ngIf",i.loaderGenerateSubtitle||i.loader)("ngIfElse",n)}}function ht(e,t){if(1&e){var n=d.Pb();d.Ob(0,"button",24),d.Vb("click",function(){return d.tc(n),d.Zb(2).onCancelSelection()}),d.Nb()}}function vt(e,t){if(1&e){var n=d.Pb();d.Ob(0,"div",21),d.Ob(1,"p-button",22),d.Vb("click",function(){return d.tc(n),d.Zb().selectFile=!0}),d.Nb(),d.Cc(2,ht,1,0,"button",23),d.Nb()}if(2&e){var i=d.Zb();d.xb(2),d.fc("ngIf",i.selectFile)}}function mt(e,t){if(1&e&&(d.Mb(0),d.Ob(1,"p",25),d.Ec(2),d.Nb(),d.Lb()),2&e){var n=d.Zb();d.xb(2),d.Fc(n.jsonString)}}function Ot(e,t){1&e&&(d.Ob(0,"div",17),d.Jb(1,"p-progressSpinner",18),d.Ob(2,"p"),d.Ec(3,"Cargando subt\xedtulo por favor espere..."),d.Nb(),d.Nb()),2&e&&(d.xb(1),d.Ac(d.hc(2,bt)))}function Ct(e,t){if(1&e){var n=d.Pb();d.Ob(0,"p-button",26),d.Vb("click",function(){return d.tc(n),d.Zb().displaySubtitle=!1}),d.Nb()}}var xt,_t=function(){return{"margin-bottom":"2em"}},yt=function(){return{width:"20vw"}},Pt=((xt=function(){function t(n,i){e(this,t),this.videoService=n,this.messageService=i,this.selectFile=!1,this.loader=!1,this.loaderGenerateSubtitle=!1,this.loaderJson=!1,this.subscrition=[],this.messages=[],this.language=[{name:"Alem\xe1n",code:"de"},{name:"Espa\xf1ol",code:"es"},{name:"Franc\xe9s",code:"fr"},{name:"Holand\xe9s",code:"nl"},{name:"H\xfangaro",code:"hu"},{name:"Ingles",code:"en"},{name:"Italiano",code:"it"},{name:"Portugu\xe9s",code:"pt"},{name:"Ruso",code:"ru"}]}return n(t,[{key:"ngOnDestroy",value:function(){this.subscrition.forEach(function(e){return e.unsubscribe()})}},{key:"ngOnInit",value:function(){this.loadTranscript(),this.messages=[]}},{key:"loadTranscript",value:function(){var e,t;return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:(null===(t=null===(e=this.video.tags_adapted)||void 0===e?void 0:e.transcript)||void 0===t?void 0:t.length)>0&&(this.transcript=this.video.tags_adapted.transcript.filter(function(e){return"JSONcc"===e.type}));case 1:case"end":return n.stop()}},n,this)}))}},{key:"stopVideo",value:function(){var e=document.querySelector("iframe"),t=document.querySelector("video");e&&(e.src=e.src),t&&t.pause()}},{key:"functionLoad",value:function(){}},{key:"onCancelSelection",value:function(){this.selectFile=!1}},{key:"onGenerateSubtitle",value:function(){var e=this;this.messages=[],this.loaderGenerateSubtitle=!0;var t=this.videoService.generateAutomaticTranscript(this.video.id).subscribe(function(t){console.log("res video",t),"ready_tag_adapted"===t.status?e.messages.push({severity:"warn",summary:"",detail:"La fuente de v\xeddeo no soporta o tiene traducciones pero seguimos desarrollando."}):(e.video.tags_adapted=t,e.loadTranscript(),e.messages.push("no_suported_transcript"===t.code?{severity:"warn",detail:"La fuente de v\xeddeo no soporta tiene traducciones."}:{severity:"success",detail:"Se ha generado los subt\xedtulos autom\xe1ticamente."})),e.loaderGenerateSubtitle=!1},function(t){e.messages.push({severity:"error",summary:"Error",detail:t.message}),e.loaderGenerateSubtitle=!1});this.subscrition.push(t)}},{key:"onAddForSubtitle",value:function(){this.loader=!0}},{key:"onRemoveForSubtitle",value:function(e){}},{key:"jsonToString",value:function(e){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,i=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.displaySubtitle=!0,this.loaderJson=!0,t.next=3,this.videoService.getVidoTranscript(e).subscribe(function(e){console.log("res video",e);var t=e.transcript.map(function(e){return e.text});i.jsonString=t.join("\r\n"),console.log(i.jsonString),i.loaderJson=!1},function(e){return console.log(e)});case 3:n=t.sent,this.subscrition.push(n);case 5:case"end":return t.stop()}},t,this)}))}}]),t}()).\u0275fac=function(e){return new(e||xt)(d.Ib(rt),d.Ib(O.h))},xt.\u0275cmp=d.Cb({type:xt,selectors:[["app-video"]],inputs:{video:"video"},decls:17,vars:17,consts:[["sandbox","allow-same-origin allow-scripts allow-popups allow-forms","title","YouTube video player","autoplay","false","frameborder","0","allow","accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture","allowfullscreen","",1,"video",3,"src","onload"],[4,"ngIf"],[3,"value","enableService","valueChange",4,"ngIf"],["class","content-subtitle",4,"ngIf"],["class","add-subtitle",4,"ngIf"],["pTemplate","footer"],["header","Traducci\xf3n",3,"visible","visibleChange"],[4,"ngIf","ngIfElse"],["jsonTemplate",""],[3,"value","enableService","valueChange"],[1,"content-subtitle"],[4,"ngFor","ngForOf"],[1,"description"],["label","Ver","styleClass","p-button-sm",3,"click"],[1,"add-subtitle"],[1,"content-buttons"],["spinnerTemplate",""],[1,"spinner-progress"],["styleClass","custom-spinner","strokeWidth","8","animationDuration",".5s"],["label","Generar subt\xedtulo",3,"onClick",4,"ngIf"],["label","Generar subt\xedtulo",3,"onClick"],[1,"footer-buttons"],["label","Editar","icon","pi pi-check",3,"click"],["pButton","","pRipple","","type","button","icon","pi pi-times","label","Cancelar","class","p-button-danger",3,"click",4,"ngIf"],["pButton","","pRipple","","type","button","icon","pi pi-times","label","Cancelar",1,"p-button-danger",3,"click"],[1,"jsonToString"],["icon","pi pi-times","label","Cerrar","styleClass","p-button-text",3,"click"]],template:function(e,t){if(1&e&&(d.Ob(0,"p-card"),d.Ob(1,"p"),d.Ec(2,"Fuente: "),d.Ob(3,"span"),d.Ec(4),d.Nb(),d.Nb(),d.Ob(5,"iframe",0),d.Vb("onload",function(){return t.functionLoad()}),d.ac(6,"urlsanitizer"),d.Nb(),d.Cc(7,ct,2,0,"p",1),d.Cc(8,st,1,2,"p-messages",2),d.Cc(9,lt,5,1,"div",3),d.Cc(10,ft,5,2,"div",4),d.Cc(11,vt,3,1,"ng-template",5),d.Nb(),d.Ob(12,"p-dialog",6),d.Vb("visibleChange",function(e){return t.displaySubtitle=e}),d.Cc(13,mt,3,1,"ng-container",7),d.Cc(14,Ot,4,3,"ng-template",null,8,d.Dc),d.Cc(16,Ct,1,0,"ng-template",5),d.Nb()),2&e){var n=d.rc(15);d.Ac(d.hc(15,_t)),d.xb(4),d.Fc(t.video.attributes[0].source),d.xb(1),d.fc("src",d.bc(6,13,t.video.attributes[0].path_preview),d.vc),d.xb(2),d.fc("ngIf",(null==t.video.tags_adapted||null==t.video.tags_adapted.transcript?null:t.video.tags_adapted.transcript.length)<=0),d.xb(1),d.fc("ngIf",t.messages.length>0),d.xb(1),d.fc("ngIf",(null==t.transcript?null:t.transcript.length)>0),d.xb(1),d.fc("ngIf",t.selectFile),d.xb(2),d.Ac(d.hc(16,yt)),d.fc("visible",t.displaySubtitle),d.xb(1),d.fc("ngIf",!t.loaderJson)("ngIfElse",n)}},directives:[W.a,u.j,O.j,F.a,K.a,u.i,N.a,Q.a,N.b,M.a],pipes:[y],styles:[".video[_ngcontent-%COMP%]{width:100%;height:25vh}.content-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.content-buttons[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:5px;color:--var(--color-primary);font-size:1.2rem;font-weight:700}.content-subtitle[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:5px 0 0}.content-subtitle[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.content-subtitle[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;padding:5px 0}.content-subtitle[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-weight:700}.content-subtitle[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 5px}.footer-buttons[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]{margin-right:10px}.form-subtitle[_ngcontent-%COMP%]{margin-top:10px}.form-subtitle[_ngcontent-%COMP%]   .p-col-12[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.form-subtitle[_ngcontent-%COMP%]   .p-col-12[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-subtitle[_ngcontent-%COMP%]   .p-col-12[_ngcontent-%COMP%]   p-dropdown[_ngcontent-%COMP%]{width:100%}.spinner-progress[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}.jsonToString[_ngcontent-%COMP%]{white-space:pre}"]}),xt);function wt(e,t){if(1&e&&(d.Ob(0,"div",2),d.Jb(1,"app-video",3),d.Nb()),2&e){var n=t.$implicit;d.xb(1),d.fc("video",n)}}var kt,Nt=((kt=function(){function t(){e(this,t)}return n(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(e){return new(e||kt)},kt.\u0275cmp=d.Cb({type:kt,selectors:[["app-video-content"]],inputs:{videos:"videos"},decls:2,vars:1,consts:[[1,"p-grid"],["class","p-col-12 p-md-6 p-lg-4",4,"ngFor","ngForOf"],[1,"p-col-12","p-md-6","p-lg-4"],[3,"video"]],template:function(e,t){1&e&&(d.Ob(0,"div",0),d.Cc(1,wt,2,1,"div",1),d.Nb()),2&e&&(d.xb(1),d.fc("ngForOf",t.videos))},directives:[u.i,Pt],styles:[""]}),kt);function Mt(e,t){1&e&&(d.Ob(0,"span"),d.Ec(1,"Objeto de aprendizaje adaptado"),d.Nb())}function It(e,t){1&e&&(d.Ob(0,"span"),d.Ec(1,"Objeto de aprendizaje original"),d.Nb())}function Et(e,t){1&e&&(d.Jb(0,"i",14),d.Ob(1,"span"),d.Ec(2,"Informacion"),d.Nb())}function St(e,t){1&e&&(d.Jb(0,"i",15),d.Ob(1,"span"),d.Ec(2,"Metadatos"),d.Nb())}function jt(e,t){if(1&e){var n=d.Pb();d.Ob(0,"div",10),d.Ob(1,"div",5),d.Ob(2,"p-tabView",11),d.Ob(3,"p-tabPanel"),d.Cc(4,Et,3,0,"ng-template",7),d.Ob(5,"app-oa-info",12),d.Vb("eventAdaptabilit",function(e){return d.tc(n),d.Zb(2).eventAdaptabilit(e)}),d.Nb(),d.Nb(),d.Ob(6,"p-tabPanel",13),d.Cc(7,St,3,0,"ng-template",7),d.Ob(8,"p"),d.Ec(9,"Metadatos"),d.Nb(),d.Nb(),d.Nb(),d.Nb(),d.Nb()}if(2&e){var i=d.Zb(2);d.xb(5),d.fc("oa_detail",i.learningObject.oa_detail)("file_detail",i.learningObject.file_detail)("config_adaptability",i.learningObject.config_adaptability)("oa_id",i.learningObject.id)}}function At(e,t){if(1&e){var n=d.Pb();d.Mb(0),d.Ob(1,"div",3),d.Ob(2,"div",4),d.Ob(3,"div",5),d.Ob(4,"p-tabView",6),d.Vb("onChange",function(e){return d.tc(n),d.Zb().onChangeWebview(e)}),d.Ob(5,"p-tabPanel"),d.Cc(6,Mt,2,0,"ng-template",7),d.Ob(7,"app-webview",8),d.Vb("eventPage",function(e){return d.tc(n),d.Zb().eventPage(e)}),d.Nb(),d.Nb(),d.Ob(8,"p-tabPanel"),d.Cc(9,It,2,0,"ng-template",7),d.Ob(10,"app-webview",8),d.Vb("eventPage",function(e){return d.tc(n),d.Zb().eventPage(e)}),d.Nb(),d.Nb(),d.Nb(),d.Nb(),d.Nb(),d.Cc(11,jt,10,4,"div",9),d.Nb(),d.Lb()}if(2&e){var i=d.Zb();d.xb(7),d.fc("pages",i.learningObject.pages_adapted),d.xb(3),d.fc("pages",i.learningObject.pages_origin),d.xb(1),d.fc("ngIf",i.learningObject)}}function Rt(e,t){1&e&&(d.Ob(0,"div",16),d.Ob(1,"div",17),d.Jb(2,"p-skeleton",18),d.Ob(3,"div",19),d.Jb(4,"p-skeleton",20),d.Jb(5,"p-skeleton",20),d.Nb(),d.Nb(),d.Ob(6,"div",21),d.Ob(7,"div",22),d.Ob(8,"div",23),d.Jb(9,"p-skeleton",24),d.Nb(),d.Ob(10,"div",23),d.Jb(11,"p-skeleton",24),d.Nb(),d.Nb(),d.Jb(12,"p-skeleton",25),d.Jb(13,"p-skeleton",26),d.Jb(14,"p-skeleton",27),d.Jb(15,"p-skeleton",28),d.Jb(16,"p-skeleton",29),d.Jb(17,"p-skeleton",30),d.Jb(18,"p-skeleton",31),d.Jb(19,"p-skeleton",32),d.Jb(20,"p-skeleton",33),d.Nb(),d.Ob(21,"div",34),d.Ob(22,"div",22),d.Ob(23,"div",23),d.Jb(24,"p-skeleton",24),d.Nb(),d.Ob(25,"div",23),d.Jb(26,"p-skeleton",24),d.Nb(),d.Ob(27,"div",23),d.Jb(28,"p-skeleton",24),d.Nb(),d.Ob(29,"div",23),d.Jb(30,"p-skeleton",24),d.Nb(),d.Nb(),d.Jb(31,"p-skeleton",28),d.Jb(32,"p-skeleton",35),d.Jb(33,"p-skeleton",36),d.Nb(),d.Nb())}function Ft(e,t){1&e&&(d.Jb(0,"i",44),d.Ob(1,"span"),d.Ec(2,"Parrafos"),d.Nb())}function Vt(e,t){if(1&e&&(d.Mb(0),d.Jb(1,"app-paragraph-content",45),d.Lb()),2&e){var n=d.Zb(3);d.xb(1),d.fc("paragraphs",n.paragraphs)}}function Zt(e,t){1&e&&(d.Ob(0,"h5",46),d.Ec(1,"Esta p\xe1gina no contiene p\xe1rrafos"),d.Nb())}function Tt(e,t){if(1&e&&(d.Ob(0,"p-tabPanel",42),d.Cc(1,Ft,3,0,"ng-template",7),d.Cc(2,Vt,2,1,"ng-container",0),d.Cc(3,Zt,2,0,"ng-template",null,43,d.Dc),d.Nb()),2&e){var n=d.rc(4),i=d.Zb(2);d.xb(2),d.fc("ngIf",(null==i.paragraphs?null:i.paragraphs.length)>0)("ngIfElse",n)}}function Jt(e,t){1&e&&(d.Jb(0,"i",49),d.Ob(1,"span"),d.Ec(2,"Im\xe1genes"),d.Nb())}function Gt(e,t){if(1&e&&(d.Mb(0),d.Jb(1,"app-image-content",50),d.Lb()),2&e){var n=d.Zb(3);d.xb(1),d.fc("imagesGroup",n.imagesGroup)("nFoundImage",n.nFoundImage)}}function zt(e,t){1&e&&(d.Ob(0,"h5",46),d.Ec(1,"Esta p\xe1gina no contiene im\xe1genes"),d.Nb())}function Dt(e,t){if(1&e&&(d.Ob(0,"p-tabPanel",47),d.Cc(1,Jt,3,0,"ng-template",7),d.Cc(2,Gt,2,2,"ng-container",0),d.Cc(3,zt,2,0,"ng-template",null,48,d.Dc),d.Nb()),2&e){var n=d.rc(4),i=d.Zb(2);d.xb(2),d.fc("ngIf",!i.nFoundImage)("ngIfElse",n)}}function Lt(e,t){1&e&&(d.Jb(0,"i",53),d.Ob(1,"span"),d.Ec(2,"Audios"),d.Nb())}function Bt(e,t){if(1&e&&(d.Mb(0),d.Jb(1,"app-audio-content",54),d.Lb()),2&e){var n=d.Zb(3);d.xb(1),d.fc("audiosGroup",n.audiosGroup)}}function qt(e,t){1&e&&(d.Ob(0,"h5",46),d.Ec(1,"Esta p\xe1gina no contiene im\xe1genes"),d.Nb())}function Ut(e,t){if(1&e&&(d.Ob(0,"p-tabPanel",51),d.Cc(1,Lt,3,0,"ng-template",7),d.Cc(2,Bt,2,1,"ng-container",0),d.Cc(3,qt,2,0,"ng-template",null,52,d.Dc),d.Nb()),2&e){var n=d.rc(4),i=d.Zb(2);d.xb(2),d.fc("ngIf",!i.nFoundAudio)("ngIfElse",n)}}function Ht(e,t){1&e&&(d.Jb(0,"i",57),d.Ob(1,"span"),d.Ec(2,"V\xeddeos"),d.Nb())}function $t(e,t){if(1&e&&(d.Mb(0),d.Jb(1,"app-video-content",58),d.Lb()),2&e){var n=d.Zb(3);d.xb(1),d.fc("videos",n.videos)}}function Wt(e,t){1&e&&(d.Ob(0,"h5",46),d.Ec(1,"Esta p\xe1gina no contiene v\xeddeos"),d.Nb())}function Kt(e,t){if(1&e&&(d.Ob(0,"p-tabPanel",55),d.Cc(1,Ht,3,0,"ng-template",7),d.Cc(2,$t,2,1,"ng-container",0),d.Cc(3,Wt,2,0,"ng-template",null,56,d.Dc),d.Nb()),2&e){var n=d.rc(4),i=d.Zb(2);d.xb(2),d.fc("ngIf",(null==i.videos?null:i.videos.length)>0)("ngIfElse",n)}}function Qt(e,t){if(1&e){var n=d.Pb();d.Ob(0,"div",37),d.Ob(1,"p-tabView",6),d.Vb("onChange",function(e){return d.tc(n),d.Zb().onChangeTab(e)}),d.Cc(2,Tt,5,2,"p-tabPanel",38),d.Cc(3,Dt,5,2,"p-tabPanel",39),d.Cc(4,Ut,5,2,"p-tabPanel",40),d.Cc(5,Kt,5,2,"p-tabPanel",41),d.Nb(),d.Nb()}if(2&e){var i=d.Zb();d.xb(2),d.fc("ngIf",i.paragraph),d.xb(1),d.fc("ngIf",i.image),d.xb(1),d.fc("ngIf",i.audio),d.xb(1),d.fc("ngIf",i.video)}}var Yt,Xt,en,tn,nn=[{path:"",component:(Yt=function(){function t(n,i,a){e(this,t),this.route=n,this.learningObjectService=i,this.pageService=a,this.subscriptions=[],this.tabIndex=0,this.subscribes=[],this.nFoundImage=!1,this.nFoundAudio=!1,this.tabAdapted=!0}return n(t,[{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}},{key:"ngOnInit",value:function(){var e=this,t=this.route.params.subscribe(function(t){e.id=+t.id,e.loadData()});this.subscriptions.push(t)}},{key:"loadData",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.learningObjectService.getLearningObject(this.id).subscribe(function(e){n.learningObject=e;var t=e.pages_adapted.filter(function(e){return e.preview_path.includes("index.html")});n.currentPageId=t[0].id,n.image=n.getValueCheck("image"),n.video=n.getValueCheck("video"),n.audio=n.getValueCheck("audio"),n.paragraph=n.getValueCheck("paragraph"),n.loadParagraph()},function(e){console.log(e)});case 2:t=e.sent,this.subscriptions.push(t);case 4:case"end":return e.stop()}},e,this)}))}},{key:"loadParagraph",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.paragraphs=[],e.next=3,this.pageService.getParagraph(this.currentPageId).subscribe(function(e){n.paragraphs=e},function(e){});case 3:t=e.sent,this.subscriptions.push(t);case 5:case"end":return e.stop()}},e,this)}))}},{key:"loadImage",value:function(){this.loadDataI(Number(this.currentPageId))}},{key:"loadAudio",value:function(){this.loadDataA(Number(this.currentPageId))}},{key:"loadVideo",value:function(){var e=this;this.videos=[];var t=this.pageService.getVideo(this.currentPageId).subscribe(function(t){e.videos=t},function(e){return console.log(e)});this.subscriptions.push(t)}},{key:"getValueCheck",value:function(e){return this.learningObject.config_adaptability.areas.includes(e)}},{key:"eventAdaptabilit",value:function(e){this.image=e.image,this.video=e.video,this.audio=e.audio,this.paragraph=e.paragraph}},{key:"eventPage",value:function(e){"adapted"===e.type&&(this.currentPageId=e.id,this.reLoadData(this.tabIndex))}},{key:"onChangeTab",value:function(e){this.tabIndex=e.index,this.reLoadData(this.tabIndex)}},{key:"reLoadData",value:function(e){switch(e){case 0:this.loadParagraph();break;case 1:this.loadImage();break;case 2:this.loadAudio();break;case 3:this.loadVideo()}}},{key:"loadDataI",value:function(e){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,i=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.learningObjectService.getImagesForPge(e).subscribe(function(e){i.imagesGroup=e.map(function(e){return{id:e.id,id_tag_adapated:e.tags_adapted.id,link:e.tags_adapted.path_src,ref:e.tags_adapted.id_ref,text:e.tags_adapted.text}}),i.imagesGroup=i.imagesGroup,i.nFoundImage=!1},function(e){i.nFoundImage=!0});case 2:n=t.sent,this.subscribes.push(n);case 4:case"end":return t.stop()}},t,this)}))}},{key:"loadDataA",value:function(e){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,i=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.learningObjectService.getAudiosForPge(e).subscribe(function(e){i.audiosGroup=e.map(function(e){var t,n,i,a;return{id:e.id,html_text:e.html_text,attributes:e.attributes.map(function(e){return{path_src:e.data_attribute,path_system:e.path_system}}),id_class_ref:e.id_class_ref,id_tag_adapated:null===(t=e.tags_adapted)||void 0===t?void 0:t.id,link:null===(n=e.tags_adapted)||void 0===n?void 0:n.path_src,ref:null===(i=e.tags_adapted)||void 0===i?void 0:i.id_ref,text:null===(a=e.tags_adapted)||void 0===a?void 0:a.text}}),i.audiosGroup=i.audiosGroup,i.nFoundAudio=!1},function(e){i.nFoundAudio=!0});case 2:n=t.sent,this.subscribes.push(n);case 4:case"end":return t.stop()}},t,this)}))}},{key:"onSave",value:function(e){}},{key:"onChangeWebview",value:function(e){this.tabAdapted=0===e.index}}]),t}(),Yt.\u0275fac=function(e){return new(e||Yt)(d.Ib(l.a),d.Ib(p.a),d.Ib(v))},Yt.\u0275cmp=d.Cb({type:Yt,selectors:[["app-adapter-detail"]],decls:4,vars:3,consts:[[4,"ngIf","ngIfElse"],["learningTemplate",""],["class","card main-content oa-adaptability",4,"ngIf"],[1,"p-grid","oa-info"],[1,"p-col-12","p-md-8","p-lg-9"],[1,"card"],["styleClass","webview-container",3,"onChange"],["pTemplate","header"],[3,"pages","eventPage"],["class","p-col-12 p-md-4 p-lg-3 sidebar",4,"ngIf"],[1,"p-col-12","p-md-4","p-lg-3","sidebar"],["styleClass","information-container"],[3,"oa_detail","file_detail","config_adaptability","oa_id","eventAdaptabilit"],["header","Header II"],[1,"pi","pi-exclamation-circle"],[1,"pi","pi-sliders-h"],[1,"custom-skeleton","p-p-12","p-grid"],[1,"p-field","p-col-12","p-md-9","p-lg-9"],["width","100%","height","70vh"],[1,"p-d-flex","p-jc-between","p-mt-3"],["width","4rem","height","2rem"],[1,"p-field","p-col-12","p-md-3"],[1,"p-grid"],[1,"p-col-12","p-md-3","p-lg-3"],["width","10rem","height","2rem"],["width","10rem","styleClass","p-mb-2"],["width","70%","styleClass","p-mb-2"],["width","5%","styleClass","p-mb-2"],["width","100%","styleClass","p-mb-2"],["width","90%","styleClass","p-mb-2"],["width","50%","styleClass","p-mb-2"],["width","60%","styleClass","p-mb-2"],["width","40%","styleClass","p-mb-2"],["width","20%","styleClass","p-mb-2"],[1,"p-field","p-col-12","p-md-9"],["width","75%","styleClass","p-mb-2"],["height","50%","styleClass","p-mb-2"],[1,"card","main-content","oa-adaptability"],["id","parrafo","header","Parrafos",4,"ngIf"],["header","Imagenes",4,"ngIf"],["header","Audios",4,"ngIf"],["header","V\xeddeos",4,"ngIf"],["id","parrafo","header","Parrafos"],["paragraphsTemplate",""],[1,"pi","pi-align-center"],[3,"paragraphs"],[1,"no-content"],["header","Imagenes"],["imagesTemplate",""],[1,"pi","pi-image"],[3,"imagesGroup","nFoundImage"],["header","Audios"],["audioTemplate",""],[1,"pi","pi-play"],[3,"audiosGroup"],["header","V\xeddeos"],["videosTemplate",""],[1,"pi","pi-video"],[3,"videos"]],template:function(e,t){if(1&e&&(d.Cc(0,At,12,3,"ng-container",0),d.Cc(1,Rt,34,0,"ng-template",null,1,d.Dc),d.Cc(3,Qt,6,4,"div",2)),2&e){var n=d.rc(2);d.fc("ngIf",t.learningObject)("ngIfElse",n),d.xb(3),d.fc("ngIf",t.tabAdapted)}},directives:[u.j,m.b,m.a,O.j,R,B,q.a,Ne,Je,at,Nt],styles:[".card[_ngcontent-%COMP%]{padding-top:10px;margin-bottom:-2px}.oa-info[_ngcontent-%COMP%]{box-sizing:border-box}.oa-info[_ngcontent-%COMP%], .oa-info[_ngcontent-%COMP%]   .p-col-12[_ngcontent-%COMP%]{margin:0;padding:0}.oa-info[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{padding:10px 5px;height:100%}.oa-info[_ngcontent-%COMP%]{z-index:100;position:relative}[_nghost-%COMP%]     .p-tabview-panels{padding:0}.no-content[_ngcontent-%COMP%]{opacity:.5;text-align:center;padding:25px;margin:0}.custom-skeleton[_ngcontent-%COMP%]{width:100%;margin-bottom:25px}"]}),Yt),data:{breadcrumb:null}}],an=((Xt=function t(){e(this,t)}).\u0275mod=d.Gb({type:Xt}),Xt.\u0275inj=d.Fb({factory:function(e){return new(e||Xt)},imports:[[l.h.forChild(nn)],l.h]}),Xt),on=a("QGhL"),rn=a("PCNd"),cn=((tn=function t(){e(this,t)}).\u0275mod=d.Gb({type:tn}),tn.\u0275inj=d.Fb({factory:function(e){return new(e||tn)},imports:[[u.b,rn.a,on.a]]}),tn),sn=((en=function t(){e(this,t)}).\u0275mod=d.Gb({type:en}),en.\u0275inj=d.Fb({factory:function(e){return new(e||en)},imports:[[u.b,an,on.a,rn.a,cn]]}),en)}}])}();